"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[6395],{8459:(t,e,a)=>{a.d(e,{Z:()=>i});const i={name:"ViewModeTable",mixins:[a(3176).N],methods:{renderMetadataWithLabel:function(t,e){var a=null!=t&&null!=t[e.slug]&&t[e.slug];return a?'<span class="sr-only">'+e.name+": </span>"+a.value_as_html:""}}}},33805:(t,e,a)=>{a.d(e,{s:()=>i,x:()=>n});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-container"},[e("div",{staticClass:"table-wrapper"},[t._t("default"),t._v(" "),t.isLoading?e("table",{staticClass:"tainacan-table tainacan-table-skeleton",attrs:{summary:t.$i18n.get("label_table_of_items"),tabindex:"0"}},[e("thead",[t._l(t.displayedMetadata,(function(a,i){return[a.display?e("th",{key:i,staticClass:"column-default-width",class:{"thumbnail-cell":"row_thumbnail"==a.metadatum,"column-small-width":null!=a.metadata_type_object&&("date"==a.metadata_type_object.primitive_type||"float"==a.metadata_type_object.primitive_type||"int"==a.metadata_type_object.primitive_type),"column-medium-width":null!=a.metadata_type_object&&("term"==a.metadata_type_object.primitive_type||"item"==a.metadata_type_object.primitive_type||"compound"==a.metadata_type_object.primitive_type),"column-large-width":null!=a.metadata_type_object&&("long_string"==a.metadata_type_object.primitive_type||"description"==a.metadata_type_object.related_mapped_prop)}},[e("div",{staticClass:"th-wrap"},[t._v(t._s(a.name))])]):t._e()]}))],2),t._v(" "),e("tbody",t._l(12,(function(a){return e("tr",{key:a},[t._l(t.displayedMetadata,(function(a,i){return[a.display?e("td",{key:i,staticClass:"column-default-width skeleton",class:{"thumbnail-cell":0==i}}):t._e()]}))],2)})),0)]):t._e(),t._v(" "),!t.isLoading&&t.items.length>0?e("table",{staticClass:"tainacan-table"},[e("thead",[e("tr",[t._l(t.displayedMetadata,(function(a,i){return[a.display?e("th",{key:i,staticClass:"column-default-width",class:{"thumbnail-cell":"row_thumbnail"==a.metadatum,"column-needed-width column-align-right":null!=a.metadata_type_object&&("float"==a.metadata_type_object.primitive_type||"int"==a.metadata_type_object.primitive_type),"column-small-width":null!=a.metadata_type_object&&("date"==a.metadata_type_object.primitive_type||"float"==a.metadata_type_object.primitive_type||"int"==a.metadata_type_object.primitive_type),"column-medium-width":null!=a.metadata_type_object&&("term"==a.metadata_type_object.primitive_type||"item"==a.metadata_type_object.primitive_type),"column-large-width":null!=a.metadata_type_object&&("long_string"==a.metadata_type_object.primitive_type||"description"==a.metadata_type_object.related_mapped_prop||"compound"==a.metadata_type_object.primitive_type)}},[e("div",{staticClass:"th-wrap"},[t._v(t._s(a.name))])]):t._e()]})),t._v(" "),t.isSlideshowViewModeEnabled?e("th",{staticClass:"actions-header"},[t._v("\n                        Â \n                        "),e("span",{staticClass:"sr-only"},[t._v("\n                            "+t._s(t.$i18n.get("label_actions_column"))+"\n                        ")])]):t._e()],2)]),t._v(" "),e("tbody",{attrs:{role:"list"}},t._l(t.items,(function(a,i){return e("tr",{key:i,attrs:{"data-tainacan-item-id":a.id,"aria-setsize":t.totalItems,"aria-posinset":t.getPosInSet(i),role:"listitem"}},[t.hasBeforeHook()?e("td",{staticClass:"faceted-search-hook faceted-search-hook-item-before",domProps:{innerHTML:t._s(t.getBeforeHook(a))}}):t._e(),t._v(" "),t._l(t.displayedMetadata,(function(n,o){return[n.display?e("td",{key:o,staticClass:"column-default-width",class:{"metadata-type-textarea":null!=n.metadata_type_object&&"tainacan-textarea"==n.metadata_type_object.component,"thumbnail-cell":"row_thumbnail"==n.metadatum,"column-main-content":null!=n.metadata_type_object&&"title"==n.metadata_type_object.related_mapped_prop,"column-needed-width column-align-right":null!=n.metadata_type_object&&("float"==n.metadata_type_object.primitive_type||"int"==n.metadata_type_object.primitive_type),"column-small-width":null!=n.metadata_type_object&&("date"==n.metadata_type_object.primitive_type||"int"==n.metadata_type_object.primitive_type||"float"==n.metadata_type_object.primitive_type),"column-medium-width":null!=n.metadata_type_object&&("item"==n.metadata_type_object.primitive_type||"term"==n.metadata_type_object.primitive_type),"column-large-width":null!=n.metadata_type_object&&("long_string"==n.metadata_type_object.primitive_type||"compound"==n.metadata_type_object.primitive_type||"description"==n.metadata_type_object.related_mapped_prop)}},[e("a",{attrs:{href:t.getItemLink(a.url,i)}},[t.collectionId||null==n.metadata_type_object||"title"!=n.metadata_type_object.related_mapped_prop?t._e():e("p",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{delay:{shown:500,hide:300},content:null!=a.title&&""!=a.title?a.title:"<span class='has-text-gray3 is-italic'>"+t.$i18n.get("label_value_not_provided")+"</span>",html:!0,autoHide:!1,placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]},expression:"{\n                                            delay: {\n                                                shown: 500,\n                                                hide: 300,\n                                            },\n                                            content: item.title != undefined && item.title != '' ? item.title : `<span class='has-text-gray3 is-italic'>` + $i18n.get('label_value_not_provided') + `</span>`,\n                                            html: true,\n                                            autoHide: false,\n                                            placement: 'auto-start',\n                                            popperClass: ['tainacan-tooltip', 'tooltip']\n                                        }"}],attrs:{"aria-label":n.name+": "+(null!=a.title&&""!=a.title?a.title:t.$i18n.get("label_value_not_provided"))},domProps:{innerHTML:t._s("<span class='sr-only'>"+n.name+": </span>"+(null!=a.title&&""!=a.title?a.title:"<span class='has-text-gray3 is-italic'>"+t.$i18n.get("label_value_not_provided")+"</span>"))}}),t._v(" "),t.collectionId||null==n.metadata_type_object||"description"!=n.metadata_type_object.related_mapped_prop?t._e():e("p",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{delay:{shown:500,hide:300},content:null!=a.description&&""!=a.description?a.description:"<span class='has-text-gray3 is-italic'>"+t.$i18n.get("label_value_not_provided")+"</span>",html:!0,autoHide:!1,placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]},expression:"{\n                                            delay: {\n                                                shown: 500,\n                                                hide: 300,\n                                            },\n                                            content: item.description != undefined && item.description != '' ? item.description : `<span class='has-text-gray3 is-italic'>` + $i18n.get('label_value_not_provided') + `</span>`,\n                                            html: true,\n                                            autoHide: false,\n                                            placement: 'auto-start',\n                                            popperClass: ['tainacan-tooltip', 'tooltip']\n                                        }"}],domProps:{innerHTML:t._s("<span class='sr-only'>"+n.name+": </span>"+(null!=a.description&&""!=a.description?a.description:"<span class='has-text-gray3 is-italic'>"+t.$i18n.get("label_value_not_provided")+"</span>"))}}),t._v(" "),null!=a.metadata&&"row_thumbnail"!==n.metadatum&&"row_actions"!==n.metadatum&&"row_creation"!==n.metadatum&&"row_author"!==n.metadatum&&"row_title"!==n.metadatum&&"row_description"!==n.metadatum?e("p",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{delay:{shown:500,hide:300},popperClass:["tainacan-tooltip","tooltip",null!=n.metadata_type_object&&"tainacan-textarea"==n.metadata_type_object.component?"metadata-type-textarea":""],content:""!=t.renderMetadataWithLabel(a.metadata,n)?t.renderMetadataWithLabel(a.metadata,n):"<span class='has-text-gray3 is-italic'>"+t.$i18n.get("label_value_not_provided")+"</span>",html:!0,autoHide:!1,placement:"auto-start"},expression:"{\n                                            delay: {\n                                                shown: 500,\n                                                hide: 300,\n                                            },\n                                            popperClass: [ 'tainacan-tooltip', 'tooltip', column.metadata_type_object != undefined && column.metadata_type_object.component == 'tainacan-textarea' ? 'metadata-type-textarea' : '' ],\n                                            content: renderMetadataWithLabel(item.metadata, column) != '' ? renderMetadataWithLabel(item.metadata, column) : `<span class='has-text-gray3 is-italic'>` + $i18n.get('label_value_not_provided') + `</span>`,\n                                            html: true,\n                                            autoHide: false,\n                                            placement: 'auto-start'\n                                        }"}],domProps:{innerHTML:t._s(""!=t.renderMetadataWithLabel(a.metadata,n)?t.renderMetadataWithLabel(a.metadata,n):"<span class='has-text-gray3 is-italic'>"+t.$i18n.get("label_value_not_provided")+"</span>")}}):t._e(),t._v(" "),"row_thumbnail"==n.metadatum?e("span",[e("img",{staticClass:"table-thumb",attrs:{alt:a.thumbnail_alt?a.thumbnail_alt:t.$i18n.get("label_thumbnail"),src:t.$thumbHelper.getSrc(a.thumbnail,"tainacan-small",a.document_mimetype)}}),t._v(" "),e("div",{staticClass:"skeleton"})]):t._e()])]):t._e()]})),t._v(" "),t.isSlideshowViewModeEnabled?e("td",{staticClass:"actions-cell",attrs:{label:t.$i18n.get("label_actions")}},[e("div",{staticClass:"actions-container"},[e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{delay:{shown:500,hide:100},content:t.$i18n.get("label_see_on_fullscreen"),placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]},expression:"{\n                                        delay: {\n                                            shown: 500,\n                                            hide: 100,\n                                        },\n                                        content: $i18n.get('label_see_on_fullscreen'),\n                                        placement: 'auto-start',\n                                        popperClass: ['tainacan-tooltip', 'tooltip']\n                                    }"}],staticClass:"icon slideshow-icon",on:{click:function(e){return e.preventDefault(),t.starSlideshowFromHere(i)}}},[e("i",{staticClass:"tainacan-icon tainacan-icon-viewgallery tainacan-icon-1-125em"})])])]):t._e(),t._v(" "),t.hasAfterHook()?e("td",{staticClass:"faceted-search-hook faceted-search-hook-item-after",domProps:{innerHTML:t._s(t.getAfterHook(a))}}):t._e()],2)})),0)]):t._e()],2)])},n=[]},3176:(t,e,a)=>{a.d(e,{N:()=>c});var i=a(80129),n=a.n(i);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function r(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){s(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function s(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var c={data:function(){return{isSlideshowViewModeEnabled:!1}},props:{collectionId:Number,displayedMetadata:Array,items:{type:Array,default:function(){return[]},required:!0},isLoading:!1,totalItems:Number,isFiltersMenuCompressed:Boolean,enabledViewModes:Array},computed:{queries:function(){var t=JSON.parse(JSON.stringify(this.$route.query));return t&&(delete t.view_mode,delete t.fetch_only,delete t.fetch_only_meta),t},titleItemMetadatum:function(){var t=this.displayedMetadata.find((function(t){return t.display&&t.metadata_type_object&&"title"==t.metadata_type_object.related_mapped_prop}));return t||!1},descriptionItemMetadatum:function(){var t=this.displayedMetadata.find((function(t){return t.display&&t.metadata_type_object&&"description"==t.metadata_type_object.related_mapped_prop}));return t||!1}},mounted:function(){this.isSlideshowViewModeEnabled=!(!this.enabledViewModes||!Array.isArray(this.enabledViewModes))&&this.enabledViewModes.findIndex((function(t){return"slideshow"==t}))>=0},methods:{hasBeforeHook:function(){return void 0!==wp&&void 0!==wp.hooks&&(wp.hooks.hasFilter("tainacan_faceted_search_item_before")||wp.hooks.hasFilter("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_before")))},hasAfterHook:function(){return void 0!==wp&&void 0!==wp.hooks&&(wp.hooks.hasFilter("tainacan_faceted_search_collection_item_after")||wp.hooks.hasFilter("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_after")))},getBeforeHook:function(t){return void 0!==wp&&void 0!==wp.hooks?wp.hooks.applyFilters("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_before"),wp.hooks.applyFilters("tainacan_faceted_search_item_before","",t),t):""},getAfterHook:function(t){return void 0!==wp&&void 0!==wp.hooks?wp.hooks.applyFilters("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_after"),wp.hooks.applyFilters("tainacan_faceted_search_item_after","",t),t):""},getItemLink:function(t,e){return this.queries?(this.queries.pos=(this.queries.paged-1)*this.queries.perpage+e,this.queries.source_list=this.$root.termId?"term":this.$root.collectionId&&"default"!=this.$root.collectionId?"collection":"repository",this.queries.ref=this.$route.path,t+"?"+n().stringify(this.queries)):t},renderMetadata:function(t,e,a){var i=!1;if(t&&t.metadata&&null!=t.metadata[e.slug])i=t.metadata[e.slug];else if(e&&e.metadata_type_object&&e.metadata_type_object.core&&e.metadata_type_object.related_mapped_prop&&t[e.metadata_type_object.related_mapped_prop])return t[e.metadata_type_object.related_mapped_prop];if(!i)return"";if(null!=a&&i.value[a]){if(!Array.isArray(i.value[a])&&i.value[a].value_as_html)return i.value[a].value_as_html;if(Array.isArray(i.value[a])){var n="";return i.value[a].forEach((function(t){t.value_as_html&&(n+=t.value_as_html+"<br>")})),n}}return i.value_as_html},starSlideshowFromHere:function(t){var e=this;this.$router.replace({query:r(r({},this.$route.query),{"slideshow-from":t})}).catch((function(t){return e.$console.log(t)}))},getPosInSet:function(t){if(NaN!==Number(this.queries.paged)&&NaN!==Number(this.queries.perpage))return(Number(this.queries.paged)-1)*Number(this.queries.perpage)+t+1}}}},69975:(t,e,a)=>{a.d(e,{Z:()=>r});var i=a(8081),n=a.n(i),o=a(23645),l=a.n(o)()(n());l.push([t.id,"tr .actions-cell[data-v-59fa85a8]{opacity:0}tr .actions-cell .slideshow-icon[data-v-59fa85a8]{transform:scale(0.25);transition:transform 0.2s ease}tr:hover .actions-cell[data-v-59fa85a8]{opacity:1}tr:hover .actions-cell .slideshow-icon[data-v-59fa85a8]{transform:scale(1)}\n",""]);const r=l},74078:(t,e,a)=>{var i=a(93379),n=a.n(i),o=a(7795),l=a.n(o),r=a(90569),s=a.n(r),c=a(3565),p=a.n(c),d=a(19216),_=a.n(d),m=a(44589),u=a.n(m),y=a(69975),h={};h.styleTagTransform=u(),h.setAttributes=p(),h.insert=s().bind(null,"head"),h.domAPI=l(),h.insertStyleElement=_();n()(y.Z,h),y.Z&&y.Z.locals&&y.Z.locals},46395:(t,e,a)=>{a.r(e),a.d(e,{default:()=>o});var i=a(33805),n=a(74140);a(94189);const o=(0,a(51900).Z)(n.Z,i.s,i.x,!1,null,"59fa85a8",null).exports},74140:(t,e,a)=>{a.d(e,{Z:()=>i});const i=a(8459).Z},94189:(t,e,a)=>{a(74078)}}]);