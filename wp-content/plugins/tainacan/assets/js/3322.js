"use strict";(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[3322],{70246:(a,e,t)=>{t.d(e,{Z:()=>o});var n=t(3176),i=t(58751),r=t.n(i);const o={name:"ViewModeRecords",mixins:[n.N],data:function(){return{masonry:!1}},computed:{amountOfDisplayedMetadata:function(){return this.displayedMetadata.filter((function(a){return a.display})).length}},watch:{isLoading:{handler:function(){var a=this;this.items&&this.items.length>0&&!this.isLoading&&this.$nextTick((function(){!1!==a.masonry&&a.masonry.destroy(),a.masonry=new(r())(".tainacan-records-container",{itemSelector:"li",columnWidth:".tainacan-records-grid-sizer",gutter:30,percentPosition:!0})}))},immediate:!0}},beforeDestroy:function(){!1!==this.masonry&&this.masonry.destroy()},methods:{randomHeightForRecordsItem:function(){var a=70*this.amountOfDisplayedMetadata*.8,e=70*this.amountOfDisplayedMetadata*1.2;return Math.floor(Math.random()*(e-a+1)+a)},getItemImageHeight:function(a,e){return 120*e/a}}}},81274:(a,e,t)=>{t.d(e,{s:()=>n,x:()=>i});var n=function(){var a=this,e=a._self._c;return e("div",{staticClass:"table-container"},[e("div",{ref:"masonryWrapper",staticClass:"table-wrapper"},[a._t("default"),a._v(" "),a.isLoading?e("div",{staticClass:"tainacan-records-container--skeleton"},a._l(12,(function(t){return e("div",{key:t,staticClass:"skeleton",style:{"min-height":a.randomHeightForRecordsItem()+"px"}})})),0):a._e(),a._v(" "),a.isLoading?a._e():e("ul",{staticClass:"tainacan-records-container"},a._l(a.items,(function(t,n){return e("li",{key:n,class:{"tainacan-records-grid-sizer":0==n},attrs:{role:"listitem","aria-setsize":a.totalItems,"aria-posinset":a.getPosInSet(n),"data-tainacan-item-id":t.id}},[e("a",{staticClass:"tainacan-record",attrs:{href:a.getItemLink(t.url,n)}},[a.hasBeforeHook()?e("div",{staticClass:"faceted-search-hook faceted-search-hook-item-before",domProps:{innerHTML:a._s(a.getBeforeHook(t))}}):a._e(),a._v(" "),e("div",{staticClass:"metadata-title"},[a.collectionId&&a.titleItemMetadatum?e("p",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{delay:{shown:500,hide:300},content:null!=t.metadata?a.renderMetadata(t,a.titleItemMetadatum):"",html:!0,autoHide:!1,placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]},expression:"{\n                                    delay: {\n                                        shown: 500,\n                                        hide: 300,\n                                    },\n                                    content: item.metadata != undefined ? renderMetadata(item, titleItemMetadatum) : '',\n                                    html: true,\n                                    autoHide: false,\n                                    placement: 'auto-start',\n                                    popperClass: ['tainacan-tooltip', 'tooltip']\n                                }"}],domProps:{innerHTML:a._s(null!=t.metadata?a.renderMetadata(t,a.titleItemMetadatum):"")}}):a._e(),a._v(" "),!a.collectionId&&a.titleItemMetadatum?e("p",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{delay:{shown:500,hide:300},content:null!=t.title?t.title:"<span class='has-text-gray3 is-italic'>"+a.$i18n.get("label_value_not_provided")+"</span>",html:!0,autoHide:!1,placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]},expression:"{\n                                    delay: {\n                                        shown: 500,\n                                        hide: 300,\n                                    },\n                                    content: item.title != undefined ? item.title : (`<span class='has-text-gray3 is-italic'>` + $i18n.get('label_value_not_provided') + `</span>`),\n                                    html: true,\n                                    autoHide: false,\n                                    placement: 'auto-start',\n                                    popperClass: ['tainacan-tooltip', 'tooltip']\n                                }"}],domProps:{innerHTML:a._s(null!=t.title?t.title:"<span class='has-text-gray3 is-italic'>"+a.$i18n.get("label_value_not_provided")+"</span>")}}):a._e(),a._v(" "),a.isSlideshowViewModeEnabled?e("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{delay:{shown:500,hide:100},content:a.$i18n.get("label_see_on_fullscreen"),placement:"auto-start",popperClass:["tainacan-tooltip","tooltip"]},expression:"{\n                                    delay: {\n                                        shown: 500,\n                                        hide: 100,\n                                    },\n                                    content: $i18n.get('label_see_on_fullscreen'),\n                                    placement: 'auto-start',\n                                    popperClass: ['tainacan-tooltip', 'tooltip']\n                                }"}],staticClass:"icon slideshow-icon",on:{click:function(e){return e.preventDefault(),a.starSlideshowFromHere(n)}}},[e("i",{staticClass:"tainacan-icon tainacan-icon-viewgallery tainacan-icon-1-125em"})]):a._e()]),a._v(" "),e("div",{staticClass:"media"},[e("div",{staticClass:"list-metadata media-body"},[null!=t.thumbnail?e("div",{staticClass:"tainacan-record-thumbnail"},[null!=t.thumbnail?e("blur-hash-image",{staticClass:"tainacan-record-item-thumbnail",attrs:{width:a.$thumbHelper.getWidth(t.thumbnail,"tainacan-medium-full",120),height:a.$thumbHelper.getHeight(t.thumbnail,"tainacan-medium-full",120),hash:a.$thumbHelper.getBlurhashString(t.thumbnail,"tainacan-medium-full"),src:a.$thumbHelper.getSrc(t.thumbnail,"tainacan-medium-full",t.document_mimetype),srcset:a.$thumbHelper.getSrcSet(t.thumbnail,"tainacan-medium-full",t.document_mimetype),alt:t.thumbnail_alt?t.thumbnail_alt:a.$i18n.get("label_thumbnail"),"transition-duration":500},on:{click:function(e){return!e.type.indexOf("key")&&a._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:a.onClickItem(e,t)},contextmenu:function(e){return a.onRightClickItem(e,t)}}}):a._e(),a._v(" "),e("div",{style:{minHeight:a.getItemImageHeight(t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][1]:t.thumbnail.medium_large?t.thumbnail.medium_large[1]:120,t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][2]:t.thumbnail.medium_large?t.thumbnail.medium_large[2]:120)+"px",marginTop:"-"+a.getItemImageHeight(t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][1]:t.thumbnail.medium_large?t.thumbnail.medium_large[1]:120,t.thumbnail["tainacan-medium-full"]?t.thumbnail["tainacan-medium-full"][2]:t.thumbnail.medium_large?t.thumbnail.medium_large[2]:120)+"px"}})],1):a._e(),a._v(" "),a._l(a.displayedMetadata,(function(n,i){return[""!=a.renderMetadata(t,n)&&n.display&&"thumbnail"!=n.slug&&null!=n.metadata_type_object&&"title"!=n.metadata_type_object.related_mapped_prop?e("span",{key:i,class:{"metadata-type-textarea":"tainacan-textarea"==n.metadata_type_object.component}},[e("h3",{staticClass:"metadata-label"},[a._v(a._s(n.name))]),a._v(" "),e("p",{staticClass:"metadata-value",domProps:{innerHTML:a._s(a.renderMetadata(t,n))}})]):a._e()]}))],2)]),a._v(" "),a.hasAfterHook()?e("div",{staticClass:"faceted-search-hook faceted-search-hook-item-after",domProps:{innerHTML:a._s(a.getAfterHook(t))}}):a._e()])])})),0)],2)])},i=[]},3176:(a,e,t)=>{t.d(e,{N:()=>s});var n=t(80129),i=t.n(n);function r(a){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},r(a)}function o(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),t.push.apply(t,n)}return t}function c(a){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?o(Object(t),!0).forEach((function(e){d(a,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(t,e))}))}return a}function d(a,e,t){return(e=function(a){var e=function(a,e){if("object"!==r(a)||null===a)return a;var t=a[Symbol.toPrimitive];if(void 0!==t){var n=t.call(a,e||"default");if("object"!==r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(a)}(a,"string");return"symbol"===r(e)?e:String(e)}(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}var s={data:function(){return{isSlideshowViewModeEnabled:!1}},props:{collectionId:Number,displayedMetadata:Array,items:{type:Array,default:function(){return[]},required:!0},isLoading:!1,totalItems:Number,isFiltersMenuCompressed:Boolean,enabledViewModes:Array},computed:{queries:function(){var a=JSON.parse(JSON.stringify(this.$route.query));return a&&(delete a.view_mode,delete a.fetch_only,delete a.fetch_only_meta),a},titleItemMetadatum:function(){var a=this.displayedMetadata.find((function(a){return a.display&&a.metadata_type_object&&"title"==a.metadata_type_object.related_mapped_prop}));return a||!1},descriptionItemMetadatum:function(){var a=this.displayedMetadata.find((function(a){return a.display&&a.metadata_type_object&&"description"==a.metadata_type_object.related_mapped_prop}));return a||!1}},mounted:function(){this.isSlideshowViewModeEnabled=!(!this.enabledViewModes||!Array.isArray(this.enabledViewModes))&&this.enabledViewModes.findIndex((function(a){return"slideshow"==a}))>=0},methods:{hasBeforeHook:function(){return void 0!==wp&&void 0!==wp.hooks&&(wp.hooks.hasFilter("tainacan_faceted_search_item_before")||wp.hooks.hasFilter("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_before")))},hasAfterHook:function(){return void 0!==wp&&void 0!==wp.hooks&&(wp.hooks.hasFilter("tainacan_faceted_search_collection_item_after")||wp.hooks.hasFilter("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_after")))},getBeforeHook:function(a){return void 0!==wp&&void 0!==wp.hooks?wp.hooks.applyFilters("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_before"),wp.hooks.applyFilters("tainacan_faceted_search_item_before","",a),a):""},getAfterHook:function(a){return void 0!==wp&&void 0!==wp.hooks?wp.hooks.applyFilters("tainacan_faceted_search_collection_".concat(this.collectionId,"_item_after"),wp.hooks.applyFilters("tainacan_faceted_search_item_after","",a),a):""},getItemLink:function(a,e){return this.queries?(this.queries.pos=(this.queries.paged-1)*this.queries.perpage+e,this.queries.source_list=this.$root.termId?"term":this.$root.collectionId&&"default"!=this.$root.collectionId?"collection":"repository",this.queries.ref=this.$route.path,a+"?"+i().stringify(this.queries)):a},renderMetadata:function(a,e,t){var n=!1;if(a&&a.metadata&&null!=a.metadata[e.slug])n=a.metadata[e.slug];else if(e&&e.metadata_type_object&&e.metadata_type_object.core&&e.metadata_type_object.related_mapped_prop&&a[e.metadata_type_object.related_mapped_prop])return a[e.metadata_type_object.related_mapped_prop];if(!n)return"";if(null!=t&&n.value[t]){if(!Array.isArray(n.value[t])&&n.value[t].value_as_html)return n.value[t].value_as_html;if(Array.isArray(n.value[t])){var i="";return n.value[t].forEach((function(a){a.value_as_html&&(i+=a.value_as_html+"<br>")})),i}}return n.value_as_html},starSlideshowFromHere:function(a){var e=this;this.$router.replace({query:c(c({},this.$route.query),{"slideshow-from":a})}).catch((function(a){return e.$console.log(a)}))},getPosInSet:function(a){if(NaN!==Number(this.queries.paged)&&NaN!==Number(this.queries.perpage))return(Number(this.queries.paged)-1)*Number(this.queries.perpage)+a+1}}}},15775:(a,e,t)=>{t.d(e,{Z:()=>c});var n=t(8081),i=t.n(n),r=t(23645),o=t.n(r)()(i());o.push([a.id,".tainacan-records-container[data-v-242e3e61]{min-height:50vh;padding:0;display:flex;flex-wrap:wrap;flex-grow:1;flex-shrink:1;justify-content:space-evenly;animation-name:appear;animation-duration:0.5s}.tainacan-records-container>li[data-v-242e3e61],.tainacan-records-container .tainacan-records-grid-sizer[data-v-242e3e61]{width:calc(20% - 30px)}@media screen and (max-width: 2560px){.tainacan-records-container>li[data-v-242e3e61],.tainacan-records-container .tainacan-records-grid-sizer[data-v-242e3e61]{width:calc(25% - 30px)}}@media screen and (max-width: 1920px){.tainacan-records-container>li[data-v-242e3e61],.tainacan-records-container .tainacan-records-grid-sizer[data-v-242e3e61]{width:calc(33.333% - 30px)}}@media screen and (max-width: 1360px){.tainacan-records-container>li[data-v-242e3e61],.tainacan-records-container .tainacan-records-grid-sizer[data-v-242e3e61]{width:calc(50% - 30px)}}@media screen and (max-width: 1024px){.tainacan-records-container>li[data-v-242e3e61],.tainacan-records-container .tainacan-records-grid-sizer[data-v-242e3e61]{width:100%}}.tainacan-records-container .tainacan-record[data-v-242e3e61]{background-color:rgba(126,126,126,0.05);padding:0px;flex-basis:0;margin:0 auto 30px auto;width:100%;max-width:425px;min-height:100px;cursor:pointer;text-decoration:none;display:block;transition:background-color 0.2s ease}.tainacan-records-container .tainacan-record[data-v-242e3e61]:hover{background-color:var(--tainacan-item-hover-background-color) !important}.tainacan-records-container .tainacan-record.selected-record[data-v-242e3e61]{background-color:var(--tainacan-turquoise1)}.tainacan-records-container .tainacan-record.selected-record .metadata-title[data-v-242e3e61]{background-color:var(--tainacan-turquoise2)}.tainacan-records-container .tainacan-record .record-checkbox[data-v-242e3e61]{position:absolute;margin-left:1.0em;margin-top:7px;z-index:9}.tainacan-records-container .tainacan-record .actions-area[data-v-242e3e61]{position:relative;float:right;top:calc(-1 * var(--tainacan-container-padding));bottom:0;padding-right:12px;margin-bottom:-25px;display:flex;justify-content:space-between;visibility:hidden;opacity:0;transition:visibility 0.2s, opacity 0.3s ease, top 0.2s ease}.tainacan-records-container .tainacan-record .actions-area a[data-v-242e3e61]{margin-left:12px;opacity:0;transition:opacity 0.3s ease}.tainacan-records-container .tainacan-record:hover .actions-area[data-v-242e3e61]{visibility:visible;opacity:1.0;top:calc(-1 * 0.5em - var(--tainacan-container-padding))}.tainacan-records-container .tainacan-record:hover .actions-area a[data-v-242e3e61]{opacity:1}.tainacan-records-container .tainacan-record .record-line[data-v-242e3e61]{height:1px;background-color:var(--tainacan-item-heading-hover-background-color);margin-left:-44px;margin-right:-44px;opacity:0;visibility:hidden}.tainacan-records-container .tainacan-record .tainacan-record-thumbnail[data-v-242e3e61]{float:right;margin:0 0 var(--tainacan-container-padding) var(--tainacan-container-padding)}.tainacan-records-container .tainacan-record .tainacan-record-item-thumbnail[data-v-242e3e61],.tainacan-records-container .tainacan-record img[data-v-242e3e61]{width:120px;height:auto;border-radius:0px;position:relative;z-index:1}.tainacan-records-container .tainacan-record .skeleton[data-v-242e3e61]{width:120px}.tainacan-records-container .tainacan-record .metadata-title[data-v-242e3e61]{flex-shrink:0;padding:0.5em 7em 0.5em 2.75em;font-size:1.0em !important;min-height:40px;position:relative;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--tainacan-heading-color);transition:background-color 0.3s ease}.tainacan-records-container .tainacan-record .metadata-title p[data-v-242e3e61]{line-height:1.875em;font-size:0.875em !important;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:0;transition:background-color 0.3s}.tainacan-records-container .tainacan-record .metadata-title .slideshow-icon[data-v-242e3e61]{color:var(--tainacan-info-color);position:absolute;right:7px;top:7px;transform:scale(0);transition:transform 0.2s ease}.tainacan-records-container .tainacan-record .metadata-title .icon[data-v-242e3e61]:not(.slideshow-icon){float:left;margin-top:-1px}.tainacan-records-container .tainacan-record:hover .metadata-title[data-v-242e3e61],.tainacan-records-container .tainacan-record:focus .metadata-title[data-v-242e3e61]{background-color:var(---tainacan-item-heading-hover-background-color) !important}.tainacan-records-container .tainacan-record:hover .metadata-title p[data-v-242e3e61],.tainacan-records-container .tainacan-record:focus .metadata-title p[data-v-242e3e61]{text-decoration:none !important}.tainacan-records-container .tainacan-record:hover .metadata-title .slideshow-icon[data-v-242e3e61],.tainacan-records-container .tainacan-record:focus .metadata-title .slideshow-icon[data-v-242e3e61]{transform:scale(1)}.tainacan-records-container .tainacan-record:hover .media[data-v-242e3e61],.tainacan-records-container .tainacan-record:focus .media[data-v-242e3e61]{background-color:var(--tainacan-item-hover-background-color) !important}.tainacan-records-container .tainacan-record .media[data-v-242e3e61]{width:100%;display:flex;transition:background-color 0.2s ease}.tainacan-records-container .tainacan-record .media .list-metadata[data-v-242e3e61]{padding:var(--tainacan-container-padding);padding-top:0.5em;flex:1;font-size:1em;color:var(--tainacan-info-color);overflow:hidden;width:100%}.tainacan-records-container .tainacan-record .media .list-metadata .metadata-label[data-v-242e3e61]{margin:0 0 0.5em 0;padding-top:0;font-size:0.75em;font-weight:700;color:var(--tainacan-info-color);clear:none}.tainacan-records-container .tainacan-record .media .list-metadata .metadata-label[data-v-242e3e61]::after{clear:none}.tainacan-records-container .tainacan-record .media .list-metadata .metadata-value[data-v-242e3e61]{font-size:0.75em;margin-bottom:1em;color:var(--tainacan-info-color);clear:none}.tainacan-records-container .tainacan-record .media .list-metadata span:last-of-type>.metadata-value[data-v-242e3e61]{margin-bottom:0px}.tainacan-records-container.hide-items-selection .tainacan-record:hover .media[data-v-242e3e61]{background-color:var(--tainacan-gray0) !important;cursor:default}.tainacan-records-container.hide-items-selection .tainacan-record .metadata-title[data-v-242e3e61]{padding-left:1.5em !important;margin-bottom:-0.75em}.tainacan-records-container.hide-items-selection .tainacan-record:hover .metadata-title[data-v-242e3e61]{background-color:var(--tainacan-gray0) !important;cursor:default}.tainacan-records-container--skeleton[data-v-242e3e61]{display:block;min-height:50vh;padding-left:30px;padding-right:30px;column-gap:30px;height:auto !important;column-count:5}.tainacan-records-container--skeleton .skeleton[data-v-242e3e61]{width:100%;margin-bottom:30px;break-inside:avoid}@media screen and (max-width: 2560px){.tainacan-records-container--skeleton[data-v-242e3e61]{column-count:4}}@media screen and (max-width: 1920px){.tainacan-records-container--skeleton[data-v-242e3e61]{column-count:3}}@media screen and (max-width: 1360px){.tainacan-records-container--skeleton[data-v-242e3e61]{column-count:2}}@media screen and (max-width: 1024px){.tainacan-records-container--skeleton[data-v-242e3e61]{column-count:1}}.tainacan-records-container .tainacan-record .metadata-title[data-v-242e3e61]{padding:0.6em 0.875em}\n",""]);const c=o},79434:(a,e,t)=>{var n=t(93379),i=t.n(n),r=t(7795),o=t.n(r),c=t(90569),d=t.n(c),s=t(3565),l=t.n(s),m=t(19216),u=t.n(m),p=t(44589),h=t.n(p),f=t(15775),v={};v.styleTagTransform=h(),v.setAttributes=l(),v.insert=d().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=u();i()(f.Z,v),f.Z&&f.Z.locals&&f.Z.locals},83322:(a,e,t)=>{t.r(e),t.d(e,{default:()=>r});var n=t(81274),i=t(8839);t(81887);const r=(0,t(51900).Z)(i.Z,n.s,n.x,!1,null,"242e3e61",null).exports},8839:(a,e,t)=>{t.d(e,{Z:()=>n});const n=t(70246).Z},81887:(a,e,t)=>{t(79434)}}]);