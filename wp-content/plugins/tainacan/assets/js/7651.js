(self.webpackChunktainacan=self.webpackChunktainacan||[]).push([[7651],{66603:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={name:"CustomDialog",props:{title:String,message:String,icon:String,onConfirm:{type:Function,default:function(){}},hideCancel:{type:Boolean,default:!1},showNeverShowAgainOption:{type:Boolean,default:!1},messageKeyForUserPrefs:""},data:function(){return{neverShowAgain:!1}},mounted:function(){this.$refs.customDialog&&this.$refs.customDialog.focus()},methods:{changeNeverShowMessageAgain:function(t){this.$userPrefs.set("neverShow"+this.messageKeyForUserPrefs+"Dialog",t)}}}},54903:(t,e,n)=>{"use strict";n.d(e,{s:()=>a,x:()=>o});var a=function(){var t=this,e=t._self._c;return e("div",{ref:"customDialog",staticClass:"tainacan-form tainacan-dialog dialog",attrs:{"aria-labelledby":"alert-dialog-title","aria-modal":"",autofocus:"",role:"alertdialog"}},[e("div",{staticClass:"modal-card",staticStyle:{width:"auto"}},[null!=t.icon&&""!=t.icon?e("div",{staticClass:"modal-custom-icon"},[e("span",{staticClass:"icon is-large"},[e("i",{staticClass:"tainacan-icon",class:"tainacan-icon-"+t.icon,style:{color:"alert"==t.icon?"var(--tainacan-red2)":"approved"==t.icon?"#1a745c":"inherit"}})])]):t._e(),t._v(" "),e("section",{staticClass:"modal-card-body",attrs:{tabindex:"1"}},[e("header",{staticClass:"modal-card-head"},[e("h1",{staticClass:"modal-card-title",attrs:{id:"alert-dialog-title"}},[t._v("\n                    "+t._s(t.title)+"\n                ")])]),t._v(" "),e("span",{domProps:{innerHTML:t._s(t.message)}}),t._v(" "),t.showNeverShowAgainOption?e("div",[e("b-checkbox",{attrs:{"native-value":t.neverShowAgain},on:{input:function(e){return t.changeNeverShowMessageAgain(e)}}},[t._v("\n                    "+t._s(t.$i18n.get("instruction_never_show_message_again"))+"\n                ")])],1):t._e()]),t._v(" "),e("footer",{staticClass:"modal-card-foot form-submit"},[t.hideCancel?t._e():e("button",{staticClass:"button is-outlined",attrs:{type:"button"},on:{click:function(e){return t.$parent.close()}}},[t._v("\n                "+t._s(t.$i18n.get("cancel"))+"\n            ")]),t._v(" "),e("button",{staticClass:"button is-success",attrs:{type:"submit"},on:{click:function(e){t.onConfirm(),t.$parent.close()}}},[t._v("\n                "+t._s(t.$i18n.get("continue"))+"\n            ")])])])])},o=[]},81109:(t,e,n)=>{"use strict";n.r(e),n.d(e,{approve:()=>m,fetchActivities:()=>r,fetchActivity:()=>u,fetchActivityTitle:()=>l,fetchCollectionActivities:()=>c,fetchItemActivities:()=>s,fetchUser:()=>p,fetchUsers:()=>f,notApprove:()=>d});var a=n(32062),o=n(80129),i=n.n(o),r=function(t,e){var n=t.commit,o=e.page,r=e.activitiesPerPage,c=e.search,s=e.searchDates,u=e.authorId,l="/logs?paged=".concat(o,"&perpage=").concat(r,"&context=edit&orderby=id&order=desc");if(null!=c&&""!=c&&(l+="&search=".concat(c)),s&&null!=s[0]&&null!=s[1]){var m={datequery:[{after:s[0],before:s[1],inclusive:!0}]};l+="&"+i().stringify(m)}return null!=u&&null!=u&&(l+="&authorid="+u),new Promise((function(t,e){a.ZP.tainacan.get(l).then((function(e){var a=e.data;n("setActivities",a),t({activities:a,total:e.headers["x-wp-total"]})})).catch((function(t){return e(t)}))}))},c=function(t,e){var n=t.commit,o=e.page,r=e.activitiesPerPage,c=e.collectionId,s=e.search,u=e.searchDates,l=e.authorId,m="/collection/".concat(c,"/logs?paged=").concat(o,"&perpage=").concat(r,"&context=edit&orderby=id&order=desc");if(null!=s&&""!=s&&(m+="&search=".concat(s)),u&&null!=u[0]&&null!=u[1]){var d={datequery:[{after:u[0],before:u[1],inclusive:!0}]};m+="&"+i().stringify(d)}return null!=l&&null!=l&&(m+="&authorid="+l),new Promise((function(t,e){a.ZP.tainacan.get(m).then((function(e){var a=e.data;n("setActivities",a),t({activities:a,total:e.headers["x-wp-total"]})})).catch((function(t){return e(t)}))}))},s=function(t,e){var n=t.commit,o=e.page,r=e.activitiesPerPage,c=e.itemId,s=e.search,u=e.searchDates,l=e.authorId,m="/item/".concat(c,"/logs?paged=").concat(o,"&perpage=").concat(r,"&context=edit&orderby=id&order=desc");if(null!=s&&""!=s&&(m+="&search=".concat(s)),null!=l&&null!=l&&(m+="&authorid="+l),u&&null!=u[0]&&null!=u[1]){var d={datequery:[{after:u[0],before:u[1],inclusive:!0}]};m+="&"+i().stringify(d)}return new Promise((function(t,e){a.ZP.tainacan.get(m).then((function(e){var a=e.data;n("setActivities",a),t({activities:a,total:e.headers["x-wp-total"]})})).catch((function(t){return e(t)}))}))},u=function(t,e){var n=t.commit;return n("clearActivity"),new Promise((function(t,o){a.ZP.tainacan.get("/logs/".concat(e,"?context=edit")).then((function(e){var a=e.data;n("setActivity",a),t({activity:a})})).catch((function(t){return o(t)}))}))},l=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("/logs/".concat(e,"?fetch_only=title")).then((function(e){var a=e.data;n("setActivityTitle",a.title),t(a.title)})).catch((function(t){return o(t)}))}))},m=function(t,e){t.commit;return new Promise((function(t,n){a.ZP.tainacan.post("/logs/".concat(e,"/approve")).then((function(e){var n=e.data;t(n)})).catch((function(t){return n(t)}))}))},d=function(t,e){t.commit},f=function(t,e){t.commit;var n=e.search,o=e.page,r=e.exclude,c={search:n};return o&&(c.page=o),r&&(c.exclude=r),new Promise((function(t,e){a.ZP.wp.get("/users?"+i().stringify(c)).then((function(e){t({users:e.data,totalUsers:e.headers["x-wp-total"]})})).catch((function(t){e(t)}))}))},p=function(t,e){t.commit;return new Promise((function(t,n){a.ZP.wp.get("/users/"+e).then((function(e){t({user:e.data})})).catch((function(t){n(t)}))}))}},53926:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getActivities:()=>a,getActivity:()=>o,getActivityTitle:()=>i});var a=function(t){return t.activities},o=function(t){return t.activity},i=function(t){return t.eventTitle}},39776:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var a=n(81109),o=n(53926),i=n(54756);const r={namespaced:!0,state:{activities:[],activity:{},eventTitle:String},mutations:i,actions:a,getters:o}},54756:(t,e,n)=>{"use strict";n.r(e),n.d(e,{clearActivity:()=>r,setActivities:()=>a,setActivity:()=>o,setActivityTitle:()=>i});var a=function(t,e){t.activities=e},o=function(t,e){t.activity=e},i=function(t,e){t.eventTitle=e},r=function(t){t.activity={}}},95036:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanProcesses:()=>m,deleteProcess:()=>d,fetchProcess:()=>u,fetchProcessErrorLog:()=>l,fetchProcesses:()=>r,heartBitUpdateProcess:()=>s,updateProcess:()=>c});var a=n(32062),o=n(80129),i=n.n(o),r=function(t,e){var n=t.commit,o=e.page,r=e.processesPerPage,c=(e.shouldUpdateStore,e.searchDates),s=e.search;return new Promise((function(t,e){var u="/bg-processes?all_users=1";if(null!=o&&(u+="&paged="+o),null!=r&&(u+="&perpage="+r),c&&null!=c[0]&&null!=c[1]){var l={datequery:[{after:c[0],before:c[1],inclusive:!0}]};u+="&"+i().stringify(l)}null!=s&&""!=s&&(u+="&search=".concat(s)),a.ZP.tainacan.get(u).then((function(e){var a=e.data;n("setProcesses",a),t({processes:a,total:e.headers["x-wp-total"]})})).catch((function(t){e(t)}))}))},c=function(t,e){var n=t.commit,o=e.id,i=e.status;return new Promise((function(t,e){a.ZP.tainacan.patch("/bg-processes/".concat(o,"/"),{status:i}).then((function(e){var a=e.data;n("setProcess",a),t(a)})).catch((function(t){e(t)}))}))},s=function(t,e){(0,t.commit)("setProcess",e)},u=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("/bg-processes/".concat(e,"/")).then((function(e){var a=e.data;n("setProcess",a),t(a)})).catch((function(t){o(t)}))}))},l=function(t,e){var n=t.commit,o=e.id;e.isFull;return new Promise((function(t,e){a.ZP.tainacan.get("/bg-processes/".concat(o,"/log")).then((function(e){var a=e.data;n("setProcessErrorLog",a),t(a)})).catch((function(t){e(t)}))}))},m=function(t){(0,t.commit)("cleanProcesses")},d=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.delete("/bg-processes/"+e).then((function(a){n("deleteProcess",{id:e}),t(a)})).catch((function(t){o(t)}))}))}},95295:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getErrorLog:()=>i,getLog:()=>r,getProcess:()=>o,getProcesses:()=>a});var a=function(t){return t.bg_processes},o=function(t){return t.bg_process},i=function(t){return t.error_log},r=function(t){return t.log}},77982:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(95036),o=n(95295);const i={namespaced:!0,state:{bg_processes:[],bg_process:{},log:{},error_log:{}},mutations:n(59705),actions:a,getters:o}},59705:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanProcesses:()=>r,deleteProcess:()=>s,setProcess:()=>c,setProcessErrorLog:()=>l,setProcessLog:()=>u,setProcesses:()=>i});var a=n(2934),o=n.n(a),i=function(t,e){t.bg_processes=e},r=function(t){t.bg_processes=[]},c=function(t,e){var n=t.bg_processes.findIndex((function(t){return t.ID==e.ID}));n>=0?o().set(t.bg_processes,n,e):t.bg_processes.push(e),t.bg_process=e},s=function(t,e){var n=t.bg_processes.findIndex((function(t){return t.ID==e.id}));n>=0&&t.bg_processes.splice(n,1)},u=function(t,e){t.log=e},l=function(t,e){t.error_log=e}},84867:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addValueInBulk:()=>s,clearValuesInBulk:()=>l,copyValuesInBulk:()=>v,createEditGroup:()=>o,createSequenceEditGroup:()=>_,deleteItemsInBulk:()=>y,fetchGroup:()=>i,fetchItemIdInSequence:()=>g,fetchSequenceGroup:()=>r,removeValueInBulk:()=>u,replaceValueInBulk:()=>m,setCommentStatusInBulk:()=>f,setStatusInBulk:()=>d,setValueInBulk:()=>c,trashItemsInBulk:()=>p,untrashItemsInBulk:()=>h});var a=n(32062),o=function(t,e){var n=t.commit,o=e.object,i=e.collectionId,r=null;return"Array"===o.constructor.name?(r={items_ids:o},null!=e.order&&null!=e.order&&(r.options={order:e.order,orderby:e.orderBy})):"Object"===o.constructor.name&&(r={use_query:o}),new Promise((function(t,e){a.ZP.tainacan.post("/collection/".concat(i,"/bulk-edit"),r).then((function(e){n("setGroup",e.data),t(e.data)})).catch((function(t){console.error(t),e(t)}))}))},i=function(t,e){var n=t.commit,o=e.collectionId,i=e.groupId;return new Promise((function(t,e){a.ZP.tainacan.get("/collection/".concat(o,"/bulk-edit/").concat(i)).then((function(e){n("setGroup",e.data),t(e.data)})).catch((function(t){console.log(t),e(t)}))}))},r=function(t,e){var n=t.commit,o=e.collectionId,i=e.groupId;return new Promise((function(t,e){a.ZP.tainacan.get("/collection/".concat(o,"/sequence-edit/").concat(i)).then((function(e){n("setGroup",e.data),t(e.data)})).catch((function(t){console.log(t),e(t)}))}))},c=function(t,e){var n=t.commit,o=e.groupId,i=e.collectionId,r=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(i,"/bulk-edit/").concat(o,"/set"),r).then((function(t){return n("setLastUpdated"),t})).catch((function(t){console.error(t)}))},s=function(t,e){t.commit;var n=e.groupId,o=e.collectionId,i=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(o,"/bulk-edit/").concat(n,"/add"),i).then((function(t){return t})).catch((function(t){console.error(t)}))},u=function(t,e){t.commit;var n=e.groupId,o=e.collectionId,i=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(o,"/bulk-edit/").concat(n,"/remove"),i).catch((function(t){console.error(t)}))},l=function(t,e){t.commit;var n=e.groupId,o=e.collectionId,i=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(o,"/bulk-edit/").concat(n,"/clear"),i).catch((function(t){console.error(t)}))},m=function(t,e){t.commit;var n=e.groupId,o=e.collectionId,i=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(o,"/bulk-edit/").concat(n,"/replace"),i).then((function(t){return t})).catch((function(t){console.error(t)}))},d=function(t,e){var n=t.commit,o=e.groupId,i=e.collectionId,r=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(i,"/bulk-edit/").concat(o,"/set_status"),r).then((function(t){return n("setLastUpdated"),t})).catch((function(t){console.error(t)}))},f=function(t,e){var n=t.commit,o=e.groupId,i=e.collectionId,r=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(i,"/bulk-edit/").concat(o,"/set_comment_status"),r).then((function(t){return n("setLastUpdated"),t})).catch((function(t){console.error(t)}))},p=function(t,e){var n=t.commit,o=e.groupId,i=e.collectionId;return a.ZP.tainacan.post("/collection/".concat(i,"/bulk-edit/").concat(o,"/trash")).then((function(t){return n("setLastUpdated"),t})).catch((function(t){console.log(t)}))},h=function(t,e){t.commit;var n=e.groupId,o=e.collectionId;return a.ZP.tainacan.post("/collection/".concat(o,"/bulk-edit/").concat(n,"/untrash")).then((function(t){return t})).catch((function(t){console.log(t)}))},y=function(t,e){var n=t.commit,o=e.groupId,i=e.collectionId;return a.ZP.tainacan.post("/collection/".concat(i,"/bulk-edit/").concat(o,"/delete_items")).then((function(t){return n("setLastUpdated"),t})).catch((function(t){console.log(t)}))},v=function(t,e){var n=t.commit,o=e.groupId,i=e.collectionId,r=e.bodyParams;return a.ZP.tainacan.post("/collection/".concat(i,"/bulk-edit/").concat(o,"/copy_value"),r).then((function(t){return n("setLastUpdated"),t})).catch((function(t){console.error(t)}))},g=function(t,e){var n=t.commit,o=e.collectionId,i=e.sequenceId,r=e.itemPosition;return new Promise((function(t,e){a.ZP.tainacan.get("/collection/".concat(o,"/sequence-edit/").concat(i,"/").concat(r)).then((function(e){n("setItemIdInSequence",e.data),t(e.data)})).catch((function(t){console.log(t),e(t)}))}))},_=function(t,e){var n=t.commit,o=e.object,i=e.collectionId,r=null;return"Array"===o.constructor.name?r={items_ids:o}:"Object"===o.constructor.name&&(r={use_query:o}),new Promise((function(t,e){a.ZP.tainacan.post("/collection/".concat(i,"/sequence-edit"),r).then((function(e){n("setGroup",e.data),t(e.data)})).catch((function(t){console.error(t),e(t)}))}))}},88926:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getGroup:()=>o,getGroupId:()=>a,getItemIdInSequence:()=>i,getLastUpdated:()=>r});var a=function(t){return t.group.id},o=function(t){return t.group},i=function(t){return t.itemIdInSequence},r=function(t){return t.lastUpdated}},7625:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var a=n(84867);const o={namespaced:!0,state:{group:null,itemIdInSequence:null,lastUpdated:""},mutations:n(22549),actions:a,getters:n(88926)}},22549:(t,e,n)=>{"use strict";n.r(e),n.d(e,{setGroup:()=>a,setItemIdInSequence:()=>o,setLastUpdated:()=>i});var a=function(t,e){t.group=e},o=function(t,e){t.itemIdInSequence=e},i=function(t,e){if(null!=e)t.lastUpdated=e;else{var n=new Date;t.lastUpdated=n.toLocaleString()}}},1986:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addCapabilityToRole:()=>o,createRole:()=>s,deleteRole:()=>l,fetchCapabilities:()=>m,fetchCapability:()=>d,fetchRole:()=>c,fetchRoles:()=>r,removeCapabilityFromRole:()=>i,updateRole:()=>u});var a=n(32062),o=function(t,e){var n=t.commit,o=e.capabilityKey,i=e.role;return new Promise((function(t,e){a.ZP.tainacan.patch("/roles/"+i+"?add_cap="+o).then((function(e){var a=e.data;n("addCapabilityToRole",{capabilityKey:o,role:a}),t(a)})).catch((function(t){e(t)}))}))},i=function(t,e){var n=t.commit,o=e.capabilityKey,i=e.role;return new Promise((function(t,e){a.ZP.tainacan.patch("/roles/"+i+"?remove_cap="+o).then((function(e){var a=e.data;n("removeCapabilityFromRole",{capabilityKey:o,role:a}),t(a)})).catch((function(t){e(t)}))}))},r=function(t){var e=t.commit;return new Promise((function(t,n){a.ZP.tainacan.get("/roles").then((function(n){var a=n.data;e("setRoles",a),t(a)})).catch((function(t){n(t)}))}))},c=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("/roles/"+e).then((function(e){var a=e.data;n("setRole",a),t(a)})).catch((function(t){o(t)}))}))},s=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.post("/roles/",e).then((function(e){var a=e.data;n("setRole",a),t(a)})).catch((function(t){t.response&&o(t.response.data)}))}))},u=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.patch("/roles/"+e.slug,e).then((function(e){var a=e.data;n("setRole",a),t(a)})).catch((function(t){t.response&&o(t.response.data)}))}))},l=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.delete("/roles/"+e).then((function(e){var a=e.data;n("deleteRole",a),t(a)})).catch((function(t){o(t)}))}))},m=function(t,e){var n=t.commit,o=e.collectionId;return new Promise((function(t,e){var i=null!=o?"/collection/".concat(o,"/capabilities"):"/capabilities";a.ZP.tainacan.get(i).then((function(e){var a=e.data.capabilities;n("setCapabilities",a),t(a)})).catch((function(t){e(t)}))}))},d=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("/capabilities/".concat(e)).then((function(e){var a=e.data;n("setCapability",a),t({capability:a})})).catch((function(t){o(t)}))}))}},79013:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getCapabilities:()=>r,getCapability:()=>i,getRole:()=>o,getRoles:()=>a});var a=function(t){return t.roles},o=function(t){return t.role},i=function(t){return t.capability},r=function(t){return t.capabilities}},6829:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(1986),o=n(79013);const i={namespaced:!0,state:{capabilities:[],capability:{},roles:[],role:{}},mutations:n(35223),actions:a,getters:o}},35223:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addCapabilityToRole:()=>i,deleteRole:()=>u,removeCapabilityFromRole:()=>r,setCapabilities:()=>l,setCapability:()=>m,setRole:()=>s,setRoles:()=>c});var a=n(2934),o=n.n(a),i=function(t,e){var n=e.capabilityKey,a=e.role;if(t.capabilities[n]&&null==t.capabilities[n].roles[a.slug]){var i=t.capabilities[n].roles.length?t.capabilities[n].roles:{};i[a.slug]=a,o().set(t.capabilities[n],"roles",i)}t.role&&t.role.slug&&t.role.slug==a.slug&&(t.role=a)},r=function(t,e){var n=e.capabilityKey,a=e.role;if(t.capabilities[n]){var i=t.capabilities[n].roles;delete i[a.slug],o().set(t.capabilities[n],"roles",i)}t.role&&t.role.slug&&t.role.slug==a.slug&&(t.role=a)},c=function(t,e){t.roles=e},s=function(t,e){t.role=e},u=function(t,e){delete t.roles[e]},l=function(t,e){t.capabilities=e},m=function(t,e){t.capability=e}},29210:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanCollection:()=>m,cleanCollections:()=>u,cleanFiles:()=>q,cleanItems:()=>l,deleteCollection:()=>v,deleteItem:()=>c,fetchAllCollectionNames:()=>M,fetchAttachments:()=>x,fetchCollection:()=>d,fetchCollectionBasics:()=>f,fetchCollectionForExposer:()=>h,fetchCollectionForItemSubmission:()=>y,fetchCollectionTaxonomies:()=>p,fetchCollections:()=>s,fetchItems:()=>r,fetchPage:()=>T,fetchPages:()=>w,sendAttachment:()=>b,sendCollection:()=>_,sendFile:()=>C,setItems:()=>I,updateCollection:()=>g,updateHeaderImage:()=>S,updateThumbnail:()=>P});var a=n(32062),o=n(80129),i=n.n(o),r=function(t,e){var n=t.rootGetters,o=t.dispatch,r=t.commit,c=e.collectionId,s=e.isOnTheme,u=e.termId,l=e.taxonomy;r("cleanItems");var m=a.ZP.CancelToken.source();return new Object({request:new Promise((function(t,e){null!=u&&null!=l&&o("search/add_taxquery",{taxonomy:l,terms:[u],compare:"IN"},{root:!0});var d=JSON.parse(JSON.stringify(n["search/getPostQuery"])),f=!1;(null!=d.metaquery&&(Object.keys(d.metaquery).length>0||d.metaquery.length>0)||null!=d.taxquery&&(Object.keys(d.taxquery).length>0||d.taxquery.length>0)||null!=d.postin&&d.postin.length)&&(f=!0),s||d.status||(d.status="publish,private,draft",o("search/setStatus","publish,private,draft",{root:!0})),""==d.fetch_only?o("search/add_fetch_only","status",{root:!0}):d.fetch_only+=",status",""==d.fetch_only_meta&&o("search/add_fetch_only_meta","",{root:!0});var p=i().stringify(d),h="/collection/"+c+"/items?";null!=c&&""!=c&&null!=c||(h="/items?"),s?null!=d.admin_view_mode&&(d.admin_view_mode=null):(null!=d.view_mode&&(d.view_mode=null),h+="context=edit&"),a.ZP.tainacan.get(h+p,{cancelToken:m.token}).then((function(e){var n=e.data.items,a=tainacan_plugin.registered_view_modes[d.view_mode];s&&null!=a&&"template"==a.type?(r("setItemsListTemplate",e.data.template),t({itemsListTemplate:e.data.template,total:e.headers["x-wp-total"],hasFiltered:f,itemsPerPage:e.headers["x-wp-itemperpage"]})):(r("setItems",n),t({items:n,total:e.headers["x-wp-total"],totalPages:e.headers["x-wp-totalpages"],hasFiltered:f,itemsPerPage:e.headers["x-wp-itemperpage"]})),o("search/setTotalItems",e.headers["x-wp-total"],{root:!0}),o("search/setTotalPages",e.headers["x-wp-totalpages"],{root:!0}),o("search/setItemsPerPage",e.headers["x-wp-itemsperpage"],{root:!0}),e.data.filters&&Object.values(e.data.filters)&&Object.values(e.data.filters).length>0?o("search/setFacets",e.data.filters,{root:!0}):o("search/setFacets",{},{root:!0}),e.data.filters_arguments&&e.data.filters_arguments.length>0?o("search/setFilterTags",e.data.filters_arguments,{root:!0}):o("search/cleanFilterTags",[],{root:!0})})).catch((function(t){a.ZP.isCancel(t)?console.log("Request canceled: ",t.message):e(t)}))})),source:m})},c=function(t,e){var n=t.commit,o=e.itemId,i=e.isPermanently;return new Promise((function(t,e){var r="/items/"+o;r+=i?"?permanently=1":"?permanently=0",a.ZP.tainacan.delete(r).then((function(e){n("deleteItem",{id:o}),t(e.data)})).catch((function(t){e(t)}))}))},s=function(t,e){var n=t.commit,o=e.page,r=e.collectionsPerPage,c=e.status,s=e.contextEdit,u=e.order,l=e.orderby,m=e.search,d=e.collectionTaxonomies,f=e.authorid;return new Promise((function(t,e){var p="/collections?paged="+o+"&perpage="+r;if(s&&(p+="&context=edit"),""!=c&&null!=c&&(p=p+"&status="+c),null!=u&&""!=u&&null!=l&&""!=l&&(p=p+"&order="+u+"&orderby="+l),null!=m&&""!=m&&(p=p+"&search="+m),null!=d&&""!=d&&Object.keys(d).length){var h={taxquery:[]};Object.keys(d).forEach((function(t){var e=d[t]&&d[t].terms&&d[t].terms.length?d[t].terms.filter((function(t){return 1==t.enabled})):[];e.length&&h.taxquery.push({taxonomy:t,operator:"IN",terms:e.map((function(t){return t.id}))})})),h.taxquery.length&&(p=p+"&"+i().stringify(h))}""!=f&&null!=f&&(p=p+"&authorid="+f),a.ZP.tainacan.get(p).then((function(e){var a=e.data;n("setCollections",a),n("setRepositoryTotalCollections",{draft:e.headers["x-tainacan-total-collections-draft"],trash:e.headers["x-tainacan-total-collections-trash"],publish:e.headers["x-tainacan-total-collections-publish"],private:e.headers["x-tainacan-total-collections-private"]}),t({collections:a,total:e.headers["x-wp-total"]})})).catch((function(t){console.log(t),e(t)}))}))},u=function(t){(0,t.commit)("cleanCollections")},l=function(t){(0,t.commit)("cleanItems")},m=function(t){(0,t.commit)("cleanCollection")},d=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("/collections/"+e+"?context=edit").then((function(e){var a=e.data;n("setCollection",a),t(e.data)})).catch((function(t){o(t)}))}))},f=function(t,e){var n=t.commit,o=e.collectionId,i=e.isContextEdit;return new Promise((function(t,e){var r="/collections/"+o+"?fetch_only=name,url,status,allow_comments,hide_items_thumbnail_on_lists,item_enabled_document_types,item_document_label,item_thumbnail_label,item_enable_thumbnail,item_attachment_label,item_enable_attachments,item_enable_metadata_focus_mode,item_enable_metadata_required_filter,item_enable_metadata_searchbar,item_enable_metadata_collapses,item_enable_metadata_enumeration,metadata_section_order";i&&(r+="&context=edit"),a.ZP.tainacan.get(r).then((function(e){var a=e.data;n("setCollection",a),t(e.data)})).catch((function(t){e(t)}))}))},p=function(t){var e=t.commit;return new Promise((function(t,n){a.ZP.wp.get("/taxonomies/?type=tainacan-collection").then((function(o){var i=o.data;if(e("setCollectionTaxonomies",i),Object.keys(i).length){var r=[];Object.keys(i).forEach((function(t){i[t].rest_base&&r.push(a.ZP.wp.get(i[t].rest_base).then((function(e){return{taxonomy:t,terms:e.data}})).catch((function(t){n(t)})))})),a.ZP.all(r).then((function(n){n.forEach((function(t){return e("setCollectionTaxonomiesTerms",t)})),t(n.data)})).catch((function(t){n(t)}))}})).catch((function(t){n(t)}))}))},h=function(t,e){t.commit;return new Promise((function(t,n){var o="/collections/"+e+"?fetch_only=name,url";a.ZP.tainacan.get(o).then((function(e){t(e.data)})).catch((function(t){n(t)}))}))},y=function(t,e){t.commit;return new Promise((function(t,n){var o="/collections/"+e+"?fetch_only=name,allows_submission,submission_use_recaptcha,item_enable_metadata_enumeration,metadata_section_order";a.ZP.tainacan.get(o).then((function(e){t(e.data)})).catch((function(t){n(t)}))}))},v=function(t,e){var n=t.commit,o=e.collectionId,i=e.isPermanently;return new Promise((function(t,e){var r="/collections/"+o;r+=i?"?permanently=1":"?permanently=0",a.ZP.tainacan.delete(r).then((function(e){var a=e.data;n("deleteCollection",a),t(e.data)})).catch((function(t){e(t)}))}))},g=function(t,e){var n=t.commit,o=e.collection_id,i=e.collection;return new Promise((function(t,e){a.ZP.tainacan.patch("/collections/"+o+"?context=edit",i).then((function(e){n("setCollection",i),t(e.data)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},_=function(t,e){var n=t.commit;return new Promise((function(t,o){var i=e;i[tainacan_plugin.exposer_mapper_param]=e.mapper,a.ZP.tainacan.post("/collections/?context=edit",i).then((function(e){var a=e.data;n("setCollection",a),t(a)})).catch((function(t){o(t.response)}))}))},I=function(t,e){(0,t.commit)("setItems",e)},b=function(t,e){var n=t.commit,o=e.collection_id,i=e.file;return new Promise((function(t,e){a.ZP.wp.post("/media/?post="+o,i,{headers:{"Content-Disposition":"attachment; filename="+i.name},onUploadProgress:function(t){console.log(t.loaded+"/"+t.total)}}).then((function(e){var a=e.data;n("setSingleAttachment",a),t(a)})).catch((function(t){e(t.response)}))}))},x=function(t,e){var n=t.commit;return n("cleanAttachments"),new Promise((function(t,o){a.ZP.wp.get("/media/?post="+e).then((function(e){var a=e.data;n("setAttachments",a),t(a)})).catch((function(t){o(t)}))}))},P=function(t,e){var n=t.commit,o=e.collectionId,i=e.thumbnailId;return new Promise((function(t,e){a.ZP.tainacan.patch("/collections/"+o+"?context=edit",{_thumbnail_id:i}).then((function(e){var a=e.data;n("setCollection",a),t(a)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},S=function(t,e){var n=t.commit,o=e.collectionId,i=e.headerImageId;return new Promise((function(t,e){a.ZP.tainacan.patch("/collections/"+o+"?context=edit",{header_image_id:i+""}).then((function(e){var a=e.data;n("setCollection",a),t(a)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},w=function(t,e){t.commit;var n=e.search,o=e.page;return new Promise((function(t,e){a.ZP.wp.get("/pages?search="+n+"&page="+o).then((function(e){var n=e.data,a=e.headers["x-wp-total"];t({pages:n,totalPages:a})})).catch((function(t){e(t)}))}))},T=function(t,e){t.commit;return new Promise((function(t,n){a.ZP.wp.get("/pages/"+e).then((function(e){var n=e.data;t(n)})).catch((function(t){n(t)}))}))},M=function(t,e){var n=t.commit,o="/collections/?context=edit&nopaging=1&fetch_only=name,id";if(null!=e&&e.length>0){var r={postin:e};o+="&"+i().stringify(r)}var c=a.ZP.CancelToken.source();return new Object({request:new Promise((function(t,e){a.ZP.tainacan.get(o,{cancelToken:c.token}).then((function(e){var a=e.data;n("setCollections",a),t(a)})).catch((function(t){a.ZP.isCancel(t)?console.log("Request canceled: ",t.message):e(t)}))})),source:c})},C=function(t,e){var n=t.commit,o=e.itemId,i=e.file;return new Promise((function(t,e){a.ZP.wp.post("/media/?post="+o,i,{headers:{"Content-Disposition":"attachment; filename="+i.name}}).then((function(e){var a=e.data;n("setSingleFile",a),t(a)})).catch((function(t){e(t.response)}))}))},q=function(t){(0,t.commit)("cleanFiles")}},24857:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getAttachments:()=>s,getCollection:()=>c,getCollectionTaxonomies:()=>r,getCollections:()=>i,getFiles:()=>u,getItems:()=>a,getItemsListTemplate:()=>o,getRepositoryTotalCollections:()=>l});var a=function(t){return t.items},o=function(t){return t.itemsListTemplate},i=function(t){return t.collections},r=function(t){return t.collectionTaxonomies},c=function(t){return t.collection},s=function(t){return t.attachments},u=function(t){return t.files},l=function(t){return t.repositoryTotalCollections}},30449:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(29210),o=n(24857);const i={namespaced:!0,state:{items:[],isFromAdvancedSearch:!1,itemsListTemplate:"",collections:[],collection:null,attachments:[],files:[],repositoryTotalCollections:"",collectionTaxonomies:{}},mutations:n(78315),actions:a,getters:o}},78315:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanAttachments:()=>b,cleanCollection:()=>y,cleanCollections:()=>p,cleanFiles:()=>_,cleanItems:()=>s,deleteCollection:()=>l,deleteItem:()=>u,setAttachments:()=>I,setCollection:()=>h,setCollectionTaxonomies:()=>d,setCollectionTaxonomiesTerms:()=>f,setCollections:()=>m,setFilterTags:()=>x,setItems:()=>r,setItemsListTemplate:()=>c,setRepositoryTotalCollections:()=>i,setSingleAttachment:()=>v,setSingleFile:()=>g});var a=n(2934),o=n.n(a),i=function(t,e){t.repositoryTotalCollections=e},r=function(t,e){t.items=e},c=function(t,e){t.itemsListTemplate=e},s=function(t){t.items=[]},u=function(t,e){var n=t.items.findIndex((function(t){return t.id===e.id}));n>=0&&t.items.splice(n,1)},l=function(t,e){var n=t.collections.findIndex((function(t){return t.id===e.id}));n>=0&&t.collections.splice(n,1)},m=function(t,e){t.collections=e},d=function(t,e){t.collectionTaxonomies=e},f=function(t,e){var n=e.taxonomy,a=e.terms;o().set(t.collectionTaxonomies[n],"terms",a)},p=function(t){t.collections=[]},h=function(t,e){t.collection=e},y=function(t){t.collection=[]},v=function(t,e){var n=t.attachments.findIndex((function(t){return t.id===e.id}));n>=0?o().set(t.attachments,n,e):t.attachments.push(e)},g=function(t,e){var n=t.files.findIndex((function(t){return t.id===e.id}));n>=0?o().set(t.files,n,e):t.files.push(e)},_=function(t){t.files=[]},I=function(t,e){t.attachments=e},b=function(t){t.attachments=[]},x=function(t,e){t.filter_tags=e}},1707:(t,e,n)=>{"use strict";n.r(e),n.d(e,{createExporterSession:()=>i,fetchAvailableExporters:()=>o,runExporterSession:()=>c,updateExporterSession:()=>r});var a=n(32062),o=function(){return a.EF.get("/exporters/available").then((function(t){return t.data})).catch((function(t){console.error(t.response.data)}))},i=function(t,e){var n=t.commit;return a.EF.post("/exporters/session",{exporter_slug:e}).then((function(t){return n("setExporterSession",t.data),t.data})).catch((function(t){console.error(t.response.data)}))},r=function(t,e){var n=t.commit;return new Promise((function(t,o){a.EF.patch("/exporters/session/".concat(e.id),e.body).then((function(e){n("setExporterSession"),t(e.data)})).catch((function(t){o(t.response.data)}))}))},c=function(t,e){var n=t.commit;return new Promise((function(t,o){a.EF.post("/exporters/session/".concat(e,"/run")).then((function(e){n("setBackGroundProcessID",e.data),t(e.data)})).catch((function(t){o(t.response.data)}))}))}},18663:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getBGProccessID:()=>o,getExporterSession:()=>a});var a=function(t){return t.exporterSession},o=function(t){return t.backGroundProcessID}},84759:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={namespaced:!0,state:{exporterSession:{},backGroundProcessID:""},actions:n(1707),mutations:n(47733),getters:n(18663)}},47733:(t,e,n)=>{"use strict";n.r(e),n.d(e,{setBackGroundProcessID:()=>o,setExporterSession:()=>a});var a=function(t,e){t.exporterSession=e},o=function(t,e){t.setBackGroundProcessID=e}},99324:(t,e,n)=>{"use strict";n.r(e),n.d(e,{fetchAvailableExposers:()=>o});var a=n(32062),o=function(t){var e=t.commit;return new Promise((function(t,n){a.EF.get("/exposers/").then((function(n){e("setAvailableExposers",n.data),t(n.data)})).catch((function(t){n(t)}))}))}},47719:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getAvailableExposers:()=>a});var a=function(t){return t.availableExposers}},10840:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a={namespaced:!0,state:{availableExposers:[]},actions:n(99324),mutations:n(73614),getters:n(47719)}},73614:(t,e,n)=>{"use strict";n.r(e),n.d(e,{setAvailableExposers:()=>a});var a=function(t,e){t.availableExposers=e}},53813:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addTemporaryFilter:()=>p,deleteFilter:()=>d,deleteTemporaryFilter:()=>f,fetchFilterTypes:()=>y,fetchFilters:()=>s,fetchRepositoryCollectionFilters:()=>g,fetchTaxonomyFilters:()=>_,moveFilterDown:()=>b,moveFilterUp:()=>I,sendFilter:()=>u,updateCollectionFiltersOrder:()=>h,updateFilteTypes:()=>v,updateFilter:()=>l,updateFilters:()=>m});var a=n(32062),o=n(80129),i=n.n(o);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,i=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var s=function(t,e){var n=t.commit,o=e.collectionId,r=e.isRepositoryLevel,c=e.isContextEdit,s=e.includeDisabled,u=e.customFilters,l=a.ZP.CancelToken.source();return new Object({request:new Promise((function(t,e){var m="";if(m=r?"/filters/":"/collection/"+o+"/filters/",m+="?nopaging=1",c&&(m+="&context=edit"),s&&(m+="&include_disabled="+s),null!=u&&u.length>0){var d={postin:u};m+="&"+i().stringify(d)}a.ZP.tainacan.get(m,{cancelToken:l.token}).then((function(e){var a=e.data;n("setFilters",a),t(a)})).catch((function(t){a.ZP.isCancel(t)?console.log("Request canceled: ",t.message):e(t)}))})),source:l})},u=function(t,e){var n=t.commit,o=e.collectionId,i=e.metadatumId,r=e.name,c=e.filterType,s=e.status,u=e.isRepositoryLevel,l=e.newIndex;return new Promise((function(t,e){var m="";m=u?"/filters/":"/collection/"+o+"/metadatum/"+i+"/filters/",a.ZP.tainacan.post(m+"?context=edit",{filter_type:c,filter:{name:r,status:s},metadatum_id:i}).then((function(e){var a=e.data;n("setSingleFilter",{filter:a,index:l}),t(a)})).catch((function(t){e(t.response)}))}))},l=function(t,e){var n=t.commit,o=e.filterId,i=e.index,r=e.options;return null!=r.metadatum&&null!=r.metadatum.metadatum_id&&(r.metadatum_id=r.metadatum.metadatum_id,delete r.metadatum),new Promise((function(t,e){var c="/filters/"+o;r.context="edit",a.ZP.tainacan.put(c,r).then((function(e){var a=e.data;n("setSingleFilter",{filter:a,index:i}),t(a)})).catch((function(t){console.log(t),e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},m=function(t,e){(0,t.commit)("setFilters",e)},d=function(t,e){var n=t.commit,o="/filters/"+e;return new Promise((function(t,e){a.ZP.tainacan.delete(o,{data:{is_permanently:!1}}).then((function(e){n("deleteFilter",e.data),t(e.data)})).catch((function(t){e(t)}))}))},f=function(t,e){(0,t.commit)("deleteTemporaryFilter",e)},p=function(t,e){(0,t.commit)("addTemporaryFilter",e)},h=function(t,e){var n=t.commit,o=e.collectionId,i=e.filtersOrder;return new Promise((function(t,e){a.ZP.tainacan.patch("/collections/"+o+"/filters_order?context=edit",{filters_order:i}).then((function(e){n("collection/setCollection",e.data,{root:!0}),n("updateFiltersOrderFromCollection",e.data.filters_order),t(e.data)})).catch((function(t){e(t.response)}))}))},y=function(t){var e=t.commit;return new Promise((function(t,n){a.ZP.tainacan.get("/filter-types").then((function(n){var a=n.data;e("setFilterTypes",a),t(a)})).catch((function(t){console.log(t),n(t)}))}))},v=function(t,e){(0,t.commit)("setFilterTypes",e)},g=function(t){var e=t.dispatch,n=t.commit;n("clearRepositoryCollectionFilters");var o=a.ZP.CancelToken.source();return Object({request:new Promise((function(t,o){e("collection/fetchAllCollectionNames",{},{root:!0}).then((function(e){e.request.then((function(e){var i=e;if(null!=i&&null!=i.length){var c=[];c.push(a.ZP.tainacan.get("/filters/?include_control_metadata_types=true&nopaging=1&include_disabled=false").then((function(t){return{filters:t.data,collectionId:"default"}})).catch((function(t){o(t)}))),i.forEach((function(t){c.push(a.ZP.tainacan.get("/collection/"+t.id+"/filters/?include_control_metadata_types=true&nopaging=1&include_disabled=false&metaquery[0][key]=collection_id&metaquery[0][value]=default&metaquery[0][compare]=!=&metaquery[1][key]=display_in_repository_level_lists&metaquery[1][value]=no&metaquery[1][compare]=!=").then((function(e){return{filters:e.data,collectionId:t.id}})).catch((function(t){o(t)})))})),a.ZP.all(c).then((function(e){var a,o={},i=r(e);try{for(i.s();!(a=i.n()).done;){var c=a.value;c.filters.length>0&&(o["default"!=c.collectionId?c.collectionId:"repository-filters"]=c.filters)}}catch(t){i.e(t)}finally{i.f()}n("setRepositoryCollectionFilters",o),t()})).catch((function(t){console.log(t),o(t)}))}})).catch((function(){o()}))}))})),source:o})},_=function(t,e){var n=t.dispatch,o=t.commit,i=e.taxonomyId,c=e.collectionsIds;return o("clearTaxonomyFilters"),new Promise((function(t,e){n("taxonomy/fetchTaxonomy",{taxonomyId:i},{root:!0}).then((function(n){var s=n.taxonomy;if(null!=s.collections_ids&&null!=s.collections_ids.length){var u=[];u.push(a.ZP.tainacan.get("/filters/?include_control_metadata_types=true&nopaging=1&include_disabled=false").then((function(t){return{filters:t.data,collectionId:"default"}})).catch((function(t){e(t)}))),(c.length?c:s.collections_ids).forEach((function(t){u.push(a.ZP.tainacan.get("/collection/"+t+"/filters/?include_control_metadata_types=true&nopaging=1&include_disabled=false&metaquery[0][key]=collection_id&metaquery[0][value]=default&metaquery[0][compare]=!=&metaquery[1][key]=display_in_repository_level_lists&metaquery[1][value]=no&metaquery[1][compare]=!=").then((function(e){return{filters:e.data,collectionId:t}})).catch((function(t){e(t)})))})),a.ZP.all(u).then((function(e){var n,a={},c=r(e);try{for(c.s();!(n=c.n()).done;){var s=n.value,u=s.filters.filter((function(t){return t.metadatum.metadata_type_object.options.taxonomy_id!=i}));u.length>0&&(a["default"!=s.collectionId?s.collectionId:"repository-filters"]=u)}}catch(t){c.e(t)}finally{c.f()}o("setTaxonomyFilters",a),t()})).catch((function(t){console.log(t),e(t)}))}})).error((function(){e()}))}))},I=function(t,e){(0,t.commit)("moveFilterUp",e)},b=function(t,e){(0,t.commit)("moveFilterDown",e)}},42964:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getFilterTypes:()=>c,getFilters:()=>r,getMetaQuery:()=>o,getPostQuery:()=>a,getRepositoryCollectionFilters:()=>s,getTaxQuery:()=>i,getTaxonomyFilters:()=>u});var a=function(t){return t.postquery},o=function(t){return t.metaquery},i=function(t){return t.taxquery},r=function(t){return t.filters},c=function(t){return t.filterTypes},s=function(t){return t.repositoryCollectionFilters},u=function(t){return t.taxonomyFilters}},38873:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(53813),o=n(42964);const i={namespaced:!0,state:{postquery:{post_type:[],metaquery:[],taxquery:[]},filters:[],filterTypes:[],taxonomyFilters:{},repositoryCollectionFilters:{}},mutations:n(33106),actions:a,getters:o}},33106:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addTemporaryFilter:()=>r,clearRepositoryCollectionFilters:()=>f,clearTaxonomyFilters:()=>h,deleteFilter:()=>i,deleteTemporaryFilter:()=>c,moveFilterDown:()=>v,moveFilterUp:()=>y,setFilterTypes:()=>m,setFilters:()=>u,setRepositoryCollectionFilters:()=>d,setSingleFilter:()=>s,setTaxonomyFilters:()=>p,updateFiltersOrderFromCollection:()=>l});var a=n(2934),o=n.n(a),i=function(t,e){var n=t.filters.findIndex((function(t){return t.id===e.id}));n>=0&&t.filters.splice(n,1)},r=function(t,e){t.filters.push(e)},c=function(t,e){t.filters.splice(e,1)},s=function(t,e){var n=e.filter,a=e.index;o().set(t.filters,a,n)},u=function(t,e){t.filters=e},l=function(t,e){for(var n=function(n){var a=e.findIndex((function(e){return e.id==t.filters[n].id}));a>=0&&(t.filters[n].enabled=e[a].enabled)},a=0;a<t.filters.length;a++)n(a)},m=function(t,e){t.filterTypes=e},d=function(t,e){t.repositoryCollectionFilters=e},f=function(t){t.repositoryCollectionFilters={}},p=function(t,e){t.taxonomyFilters=e},h=function(t){t.taxonomyFilters={}},y=function(t,e){t.filters.splice(e-1,0,t.filters.splice(e,1)[0])},v=function(t,e){t.filters.splice(e+1,0,t.filters.splice(e,1)[0])}},62501:(t,e,n)=>{"use strict";n.r(e),n.d(e,{fetchAvailableImporters:()=>o,fetchImporter:()=>i,fetchImporterSourceInfo:()=>d,fetchMappingImporter:()=>p,runImporter:()=>f,sendImporter:()=>r,updateImporter:()=>c,updateImporterCollection:()=>s,updateImporterFile:()=>m,updateImporterOptions:()=>l,updateImporterURL:()=>u});var a=n(32062),o=function(t){var e=t.commit;return new Promise((function(t,n){a.ZP.tainacan.get("importers/available").then((function(n){var a=n.data;e("setAvailableImporters",a),t(a)})).catch((function(t){n(t.response.data)}))}))},i=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("importers/session/"+e).then((function(e){var a=e.data;n("setImporter",a),t(a)})).catch((function(t){o(t.response.data)}))}))},r=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.post("importers/session/",{importer_slug:e}).then((function(e){var a=e.data;n("setImporter",a),t(a)})).catch((function(t){o(t.response.data)}))}))},c=function(t,e){var n=t.commit,o=e.sessionId,i=e.options;return new Promise((function(t,e){a.ZP.tainacan.put("importers/session/"+o,i).then((function(e){var a=e.data;n("setImporter",a),t(a)})).catch((function(t){e(t.response.data)}))}))},s=function(t,e){var n=t.commit,o=e.sessionId,i=e.collection;return new Promise((function(t,e){a.ZP.tainacan.put("importers/session/"+o,{collection:i}).then((function(e){var a=e.data;n("setImporter",a),t(a)})).catch((function(t){e(t.response.data)}))}))},u=function(t,e){var n=t.commit,o=e.sessionId,i=e.url;return new Promise((function(t,e){a.ZP.tainacan.put("importers/session/"+o,{url:i}).then((function(e){var a=e.data;n("setImporter",a),t(a)})).catch((function(t){e(t.response.data)}))}))},l=function(t,e){var n=t.commit,o=e.sessionId,i=e.options;return new Promise((function(t,e){a.ZP.tainacan.put("importers/session/"+o,{options:i}).then((function(e){var a=e.data;n("setImporter",a),t(a)})).catch((function(t){e(t.response.data)}))}))},m=function(t,e){var n=t.commit,o=e.sessionId,i=e.file;return new Promise((function(t,e){var r=new FormData;r.append("file",i),a.ZP.tainacan.post("importers/session/"+o+"/file",r,{headers:{"Content-Type":"multipart/form-data;","Content-Disposition":"form-data; filename="+i.name+"; filesize="+i.size}}).then((function(e){var a=e.data;n("setImporter",a),t(a)})).catch((function(t){e(t.response.data)}))}))},d=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("/importers/session/"+e+"/source_info").then((function(e){var a=e.data;n("setImporterSourceInfo",a),t(a)})).catch((function(t){o(t.response.data)}))}))},f=function(t,e){var n=t.dispatch;return new Promise((function(t,o){a.ZP.tainacan.post("importers/session/"+e+"/run").then((function(e){var a=e.data;n("bgprocess/fetchProcesses",{},{root:!0}),t(a)})).catch((function(t){o(t.response.data)}))}))},p=function(t,e){var n=t.commit,o=e.sessionId,i=e.collection;return new Promise((function(t,e){a.ZP.tainacan.get("importers/session/"+o+"/get_mapping/"+i).then((function(e){var a=e.data;n("setMappingImporter",a),t(a)})).catch((function(t){e(t.response.data)}))}))}},67524:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getImporter:()=>o,getImporterFile:()=>r,getImporterMapping:()=>c,getImporterSourceInfo:()=>i,getgetAvailableImporters:()=>a});var a=function(t){return t.available_importers},o=function(t){return t.importer},i=function(t){return t.importer_source_info},r=function(t){return t.importer_file},c=function(t){return t.importer_mapping}},25839:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(62501),o=n(67524);const i={namespaced:!0,state:{importer:{},available_importers:[],importer_file:{},importer_source_info:{},importer_mapping:[]},mutations:n(76659),actions:a,getters:o}},76659:(t,e,n)=>{"use strict";n.r(e),n.d(e,{setAvailableImporters:()=>a,setImporter:()=>o,setImporterFile:()=>i,setImporterSourceInfo:()=>r,setMappingImporter:()=>c});var a=function(t,e){t.available_importers=e},o=function(t,e){t.importer=e},i=function(t,e){t.importer_file=e},r=function(t,e){t.importer_source_info=e},c=function(t,e){t.importer_mapping=e}},91774:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanItemMetadata:()=>d,cleanLastUpdated:()=>f,clearItemSubmission:()=>q,deleteGroupFromItemSubmissionMetadatum:()=>k,deleteItemMetadataGroup:()=>m,deletePermanentlyAttachment:()=>w,duplicateItem:()=>I,fetchAttachments:()=>T,fetchCompoundFirstParentMetaId:()=>l,fetchItem:()=>h,fetchItemMetadata:()=>u,fetchItemTitle:()=>v,fetchOnlyRelatedItems:()=>x,finishItemSubmission:()=>j,removeAttachmentFromItem:()=>S,replaceItem:()=>y,sendAttachment:()=>P,sendItem:()=>g,setItemSubmission:()=>Z,setItemSubmissionMetadata:()=>O,setLastUpdated:()=>p,submitItemSubmission:()=>L,updateItem:()=>_,updateItemDocument:()=>b,updateItemMetadatum:()=>s,updateItemSubmission:()=>F,updateItemSubmissionMetadatum:()=>A,updateThumbnail:()=>M,updateThumbnailAlt:()=>C});var a=n(32062);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return(e=function(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,e||"default");if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t,e){var n=t.commit,o=e.item_id,i=e.metadatum_id,r=e.values,c=e.parent_meta_id,s={values:r};return null!=c&&null!=c&&0!=c&&(s.parent_meta_id=c),new Promise((function(t,e){a.ZP.tainacan.patch("/item/".concat(o,"/metadata/").concat(i),s).then((function(e){var a=e.data;n("setSingleMetadatum",a),n("setLastUpdated"),t(a)})).catch((function(t){e({error:t.response.data.errors,error_message:t.response.data.error_message,item_metadata:t.response.data.item_metadata})}))}))},u=function(t,e){var n=t.commit;return n("cleanItemMetadata"),new Promise((function(t,o){a.ZP.tainacan.get("/item/"+e+"/metadata").then((function(e){var a=e.data;n("setItemMetadata",a),t(a)})).catch((function(t){o(t)}))}))},l=function(t,e){t.commit;var n=e.item_id,o=e.metadatum_id;return new Promise((function(t,e){a.ZP.tainacan.patch("/item/".concat(n,"/metadata/").concat(o),{value:[]}).then((function(e){var n=e.data.parent_meta_id;t(n)})).catch((function(t){e({error:t.response.data.errors,error_message:t.response.data.error_message,item_metadata:t.response.data.item_metadata})}))}))},m=function(t,e){var n=t.commit,o=e.item_id,i=e.metadatum_id,r=e.parent_meta_id;return new Promise((function(t){a.ZP.tainacan.delete("/item/".concat(o,"/metadata/").concat(i),{data:{parent_meta_id:r}}).then((function(e){n("deleteChildItemMetadata",{parentMetadatumId:i,parentMetaId:r}),n("setLastUpdated"),t({itemMetadataRemoved:e.data.item_metadata_removed,parentMetaId:r})}))}))},d=function(t){(0,t.commit)("cleanItemMetadata")},f=function(t){(0,t.commit)("cleanLastUpdated")},p=function(t,e){(0,t.commit)("setLastUpdated",e)},h=function(t,e){var n=t.commit,o=e.itemId,i=e.contextEdit,r=e.fetchOnly;n("cleanItem");var c="/items/"+o+"?";i&&(c+="&context=edit"),null!=r&&(c+="&fetch_only="+r);var s=a.ZP.CancelToken.source();return Object({request:new Promise((function(t,e){a.ZP.tainacan.get(c,{cancelToken:s.token}).then((function(e){var a=e.data;n("setItem",a),t(e.data)})).catch((function(t){a.ZP.isCancel(t)?console.log("Request canceled: ",t.message):e(t)}))})),source:s})},y=function(t,e){(0,t.commit)("setItem",e)},v=function(t,e){var n=t.commit;return n("cleanItemTitle"),new Promise((function(t,o){a.ZP.tainacan.get("/items/"+e+"?fetch_only=title").then((function(e){var a=e.data;n("setItemTitle",a.title),t(a.title)})).catch((function(t){o(t)}))}))},g=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.post("/collection/"+e.collection_id+"/items/",e).then((function(e){n("setItem",e.data),n("setLastUpdated"),t(e.data)})).catch((function(t){o({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},_=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.patch("/items/"+e.id,e).then((function(e){n("setItem",e.data),n("setLastUpdated"),t(e.data)})).catch((function(t){o({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},I=function(t,e){t.commit;var n=e.collectionId,o=e.itemId,i=e.copies;return new Promise((function(t,e){a.ZP.tainacan.post("/collection/"+n+"/items/"+o+"/duplicate",{copies:new Number(i)}).then((function(e){t(e.data.items)})).catch((function(t){e(t)}))}))},b=function(t,e){var n=t.commit,o=e.item_id,i=e.document,r=e.document_type,c=e.document_options,s={document:i,document_type:r};return c&&(s.document_options=c),new Promise((function(t,e){a.ZP.tainacan.patch("/items/"+o,s).then((function(e){var a=e.data;n("setItem",a),n("setLastUpdated"),t(e.data)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},x=function(t,e){var n=t.commit,o=e.itemId,i=e.contextEdit,r="/items/"+o+"?";return i&&(r+="&context=edit"),r+="&fetch_only=related_items",new Promise((function(t,e){a.ZP.tainacan.get(r).then((function(e){var a=e.data&&e.data.related_items?e.data.related_items:[];n("setOnlyRelatedItemsToItem",{itemId:o,relatedItems:a}),t(a)})).catch((function(t){return e(t)}))}))},P=function(t,e){var n=t.commit,o=e.item_id,i=e.file;return n("cleanAttachment"),new Promise((function(t,e){a.ZP.wp.post("/media/?post="+o,i,{headers:{"Content-Disposition":"attachment; filename="+i.name}}).then((function(e){var a=e.data;n("setSingleAttachment",a),n("setLastUpdated"),t(a)})).catch((function(t){e(t.response)}))}))},S=function(t,e){var n=t.commit;return n("cleanAttachment"),new Promise((function(t,o){a.ZP.wp.patch("/media/"+e,{post:0}).then((function(a){var o=a.data;n("removeAttatchmentFromItem",e),n("setLastUpdated"),t(o)})).catch((function(t){o(t.response)}))}))},w=function(t,e){t.commit;return new Promise((function(t,n){a.ZP.wp.delete("/media/"+e+"?force=true").then((function(e){var n=e.data;t(n)})).catch((function(t){n(t.response)}))}))},T=function(t,e){var n=t.commit,o=e.page,i=e.attachmentsPerPage,r=e.itemId,c=e.excludeDocumentId,s=e.excludeThumbnailId,u="/items/"+r+"/attachments?order=ASC&orderby=menu_order&perpage="+i+"&paged="+o;return c&&!isNaN(c)&&s&&!isNaN(s)?u+="&exclude="+c+","+s:c&&!isNaN(c)?u+="&exclude="+c:s&&!isNaN(s)&&(u+="&exclude="+s),new Promise((function(t,e){a.ZP.tainacan.get(u).then((function(e){var a=e.data,o=e.headers["x-wp-total"];n("setAttachments",a),n("setTotalAttachments",o),t({attachments:a,total:o})})).catch((function(t){e(t)}))}))},M=function(t,e){var n=t.commit,o=e.itemId,i=e.thumbnailId;e.thumbnailAlt;return new Promise((function(t,e){a.ZP.tainacan.patch("/items/"+o,{_thumbnail_id:i}).then((function(e){var a=e.data;n("setItem",a),n("setLastUpdated"),t(a)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},C=function(t,e){var n=t.commit,o=e.thumbnailId,i=e.thumbnailAlt;return new Promise((function(t,e){a.ZP.wp.patch("/media/"+o+"?force=true",{alt_text:i}).then((function(e){var a=e.data;n("setLastUpdated"),t(a)})).catch((function(t){e(t)}))}))},q=function(t){(0,t.commit)("clearItemSubmission")},Z=function(t,e){(0,t.commit)("setItemSubmission",e)},O=function(t,e){(0,t.commit)("setItemSubmissionMetadata",e)},F=function(t,e){(0,t.commit)("updateItemSubmission",{key:e.key,value:e.value})},A=function(t,e){(0,t.commit)("updateItemSubmissionMetadatum",{metadatum_id:e.metadatum_id,values:e.values,child_group_index:e.child_group_index,parent_id:e.parent_id})},k=function(t,e){(0,t.commit)("deleteGroupFromItemSubmissionMetadatum",{metadatum_id:e.metadatum_id,child_group_index:e.child_group_index})},L=function(t,e){t.commit;var n=e.itemSubmission,o=e.itemSubmissionMetadata,i=e.captchaResponse;return new Promise((function(t,e){for(var c=JSON.parse(JSON.stringify(n)),s=0,u=Object.keys(c);s<u.length;s++){var l=u[s];(["attachments","thumbnail"].includes(l)||"document"===l&&"attachment"===n.document_type)&&delete c[l]}i&&(c["g-recaptcha-response"]=i),a.ZP.tainacan.post("/collection/"+n.collection_id+"/items/submission",r(r({},c),{},{metadata:o})).then((function(e){t(e.data.id)})).catch((function(t){e({errors:t.response.data.errors,error_message:t.response.data.error_message})}))}))},j=function(t,e){t.commit;var n=e.itemSubmission,o=e.fakeItemId;return new Promise((function(t,e){for(var i=new FormData,r=0,c=Object.keys(n);r<c.length;r++){var s=c[r];if("thumbnail"===s||"document"===s&&"attachment"===n.document_type)i.append(s,n[s]);else if("attachments"===s)for(var u=0;u<n[s].length;u++)i.append(s+"["+u+"]",n[s][u])}a.ZP.tainacan.post("/collection/"+n.collection_id+"/items/submission/"+o+"/finish",i,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data)})).catch((function(t){e({errors:t.response.data.errors,error_message:t.response.data.error_message})}))}))}},54437:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getAttachments:()=>c,getItem:()=>o,getItemMetadata:()=>a,getItemSubmission:()=>u,getItemSubmissionMetadata:()=>l,getItemTitle:()=>r,getLastUpdated:()=>i,getTotalAttachments:()=>s});var a=function(t){return t.itemMetadata},o=function(t){return t.item},i=function(t){return t.lastUpdated},r=function(t){return t.itemTitle},c=function(t){return t.attachments},s=function(t){return t.totalAttachments},u=function(t){return t.itemSubmission},l=function(t){return t.itemSubmissionMetadata}},18698:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(91774),o=n(54437);const i={namespaced:!0,state:{item:[],itemMetadata:[],error:[],itemTitle:"",attachment:{},attachments:[],lastUpdated:"",comment_status:"",totalAttachments:0,itemSubmission:{},itemSubmissionMetadata:[]},mutations:n(13383),actions:a,getters:o}},13383:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanAttachment:()=>m,cleanAttachments:()=>d,cleanItem:()=>r,cleanItemMetadata:()=>v,cleanItemTitle:()=>h,cleanLastUpdated:()=>c,clearItemSubmission:()=>x,deleteChildItemMetadata:()=>I,deleteGroupFromItemSubmissionMetadatum:()=>M,removeAttatchmentFromItem:()=>l,setAttachments:()=>u,setItem:()=>i,setItemMetadata:()=>y,setItemSubmission:()=>P,setItemSubmissionMetadata:()=>S,setItemTitle:()=>p,setLastUpdated:()=>b,setOnlyRelatedItemsToItem:()=>g,setSingleAttachment:()=>s,setSingleMetadatum:()=>_,setTotalAttachments:()=>f,updateItemSubmission:()=>w,updateItemSubmissionMetadatum:()=>T});var a=n(2934),o=n.n(a),i=function(t,e){t.item=e},r=function(t){t.item=[]},c=function(t){t.lastUpdated=""},s=function(t,e){var n=t.attachments.findIndex((function(t){return t.id===e.id}));n>=0?o().set(t.attachments,n,e):t.attachments.push(e)},u=function(t,e){t.attachments=e},l=function(t,e){var n=t.attachments.findIndex((function(t){return t.id==e}));n>=0&&t.attachments.splice(n,1)},m=function(t){t.attachment={}},d=function(t){t.attachments=[]},f=function(t,e){t.totalAttachments=e},p=function(t,e){t.itemTitle=e},h=function(t){t.itemTitle=""},y=function(t,e){t.itemMetadata=e},v=function(t){t.itemMetadata=[]},g=function(t,e){var n=e.itemId,a=e.relatedItems;t.item&&t.item.id&&t.item.id==n&&(t.item.related_items=a)},_=function(t,e){if(e.metadatum.parent<=0){var n=t.itemMetadata.findIndex((function(t){return t.metadatum.id==e.metadatum.id}));n>=0?o().set(t.itemMetadata,n,e):t.itemMetadata.push(e)}else{var a=t.itemMetadata.findIndex((function(t){return t.metadatum.id==e.metadatum.parent}));if(a>=0){var i=JSON.parse(JSON.stringify(t.itemMetadata[a])),r=i.value,c={metadatum_id:e.metadatum.id,value:e.value,value_as_html:e.value_as_html,value_as_string:e.value_as_string,parent_meta_id:e.parent_meta_id};if("yes"==i.metadatum.multiple){var s=r.findIndex((function(t){return t.findIndex((function(t){return t.parent_meta_id==e.parent_meta_id}))>=0}));if(s>=0){var u=r[s].findIndex((function(t){return t.parent_meta_id==e.parent_meta_id&&t.metadatum_id==e.metadatum.id}));u>=0?r[s].splice(u,1,c):r[s].push(c)}else r.push([c])}else{var l=r.findIndex((function(t){return t.parent_meta_id==e.parent_meta_id&&t.metadatum_id==e.metadatum.id}));l>=0?r.splice(l,1,c):r.push(c)}i.value=r,o().set(t.itemMetadata,a,i)}}},I=function(t,e){var n=e.parentMetadatumId,a=e.parentMetaId,i=t.itemMetadata.findIndex((function(t){return t.metadatum.id==n}));if(i>=0){var r=JSON.parse(JSON.stringify(t.itemMetadata[i])),c=r.value,s=c.findIndex((function(t){return t.findIndex((function(t){return t.parent_meta_id==a}))>=0}));s>=0&&c.splice(s,1),r.value=JSON.parse(JSON.stringify(c)),o().set(t.itemMetadata,i,r)}},b=function(t,e){if(null!=e)t.lastUpdated=e;else{var n=new Date;t.lastUpdated=n.toLocaleString()}},x=function(t){t.itemSubmission={}},P=function(t,e){t.itemSubmission=e},S=function(t,e){t.itemSubmissionMetadata=e},w=function(t,e){var n=e.key,a=e.value;o().set(t.itemSubmission,n,a)},T=function(t,e){var n=e.metadatum_id,a=e.values,i=e.child_group_index,r=e.parent_id,c=Array.isArray(t.itemSubmissionMetadata)?t.itemSubmissionMetadata:[];if(r&&r>0){var s=c.findIndex((function(t){return t.metadatum_id==r}));if(s>=0)if(c[s].value&&c[s].value[i]){var u=c[s].value[i].findIndex((function(t){return t.metadatum_id==n}));u>=0?c[s].value[i][u].value=a:c[s].value[i].push({metadatum_id:n,value:a})}else c[s].value=c[s].value?c[s].value:[],c[s].value.push([{metadatum_id:n,value:a}]);else c.push({metadatum_id:r,value:[[{metadatum_id:n,value:a}]]})}else{var l=c.findIndex((function(t){return t.metadatum_id==n}));l>=0?c[l].value=a:c.push({metadatum_id:n,value:a})}o().set(t,"itemSubmissionMetadata",c)},M=function(t,e){var n=e.metadatum_id,a=e.child_group_index,i=t.itemSubmissionMetadata.findIndex((function(t){return t.metadatum_id==n}));if(i>=0&&t.itemSubmissionMetadata[i].value[a]){var r=t.itemSubmissionMetadata[i],c=r.value;c.splice(a,1),r.value=c,o().set(t.itemSubmissionMetadata,i,r)}}},19446:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanMetadata:()=>d,cleanMetadataSections:()=>T,deleteMetadataSection:()=>P,deleteMetadatum:()=>m,fetchMetadata:()=>r,fetchMetadataSectionMetadata:()=>O,fetchMetadataSections:()=>I,fetchMetadatum:()=>u,fetchMetadatumMappers:()=>v,fetchMetadatumTypes:()=>h,moveMetadataSectionDown:()=>C,moveMetadataSectionUp:()=>M,moveMetadatumDown:()=>Z,moveMetadatumUp:()=>q,sendMetadataSection:()=>b,sendMetadatum:()=>c,updateChildMetadataOrder:()=>p,updateCollectionMetadataOrder:()=>f,updateCollectionMetadataSectionsOrder:()=>w,updateMetadata:()=>l,updateMetadataMapperMetadata:()=>g,updateMetadataSection:()=>x,updateMetadataSections:()=>S,updateMetadatum:()=>s,updateMetadatumMappers:()=>_,updateMetadatumTypes:()=>y});var a=n(32062),o=n(80129),i=n.n(o),r=function(t,e){var n=t.commit,o=e.collectionId,r=e.isRepositoryLevel,c=e.isContextEdit,s=e.includeDisabled,u=e.isAdvancedSearch,l=e.parent,m=e.includeControlMetadataTypes,d=e.includeOptionsAsHtml,f=e.metaquery,p=a.ZP.CancelToken.source();return new Object({request:new Promise((function(t,e){var h="";h=r?"/metadata/?":"/collection/"+o+"/metadata/?";var y={nopaging:1};c&&(y.context="edit"),s&&(y.include_disabled=s),l&&(y.parent=l),m&&(y.include_control_metadata_types="true"),d&&(y.include_options_as_html="yes"),f&&(y.metaquery=f),a.ZP.tainacan.get(h+i().stringify(y),{cancelToken:p.token}).then((function(e){var a=e.data;u||(null==l||null==l||l<=0||"any"==l)&&n("setMetadata",a),t(a)})).catch((function(t){a.ZP.isCancel(t)?console.log("Request canceled: ",t.message):e(t)}))})),source:p})},c=function(t,e){var n=t.commit,o=e.collectionId,i=e.name,r=e.metadatumType,c=e.status,s=e.isRepositoryLevel,u=e.newIndex,l=e.parent,m=e.includeOptionsAsHtml,d=e.sectionId;return new Promise((function(t,e){var f="";f=s?"/metadata/":"/collection/"+o+"/metadata/",f+="?context=edit",m&&(f+="&include_options_as_html=yes");var p={name:i,metadata_type:r,status:c,parent:l};null!=d&&0!=d&&(p.metadata_section_id=d),a.ZP.tainacan.post(f,p).then((function(e){var a=e.data;null==d||0==d||s?n("setSingleMetadatum",{metadatum:a,index:u,isRepositoryLevel:s}):n("updateMetadatumInsideSectionMetadata",{metadatum:a,index:u,sectionId:d}),t(a)})).catch((function(t){e(t.response)}))}))},s=function(t,e){var n=t.commit,o=e.collectionId,i=e.metadatumId,r=e.isRepositoryLevel,c=e.index,s=e.options,u=e.includeOptionsAsHtml,l=e.sectionId;return new Promise((function(t,e){var m="";r?(m="/metadata/"+i,s.target_collection_id=o):m="/collection/"+o+"/metadata/"+i,m+="?context=edit",u&&(m+="&include_options_as_html=yes"),null!=l&&(s.metadata_section_id=l),a.ZP.tainacan.put(m,s).then((function(e){var a=e.data;null==l||r?n("setSingleMetadatum",{metadatum:a,index:c,isRepositoryLevel:r}):n("updateMetadatumInsideSectionMetadata",{metadatum:a,index:c,sectionId:l}),t(a)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},u=function(t,e){t.commit;var n=e.collectionId,o=e.metadatumId;return new Promise((function(t,e){var i="";i=n&&"default"!=n?"/collection/"+n+"/metadata/"+o:"/metadata/"+o,a.ZP.tainacan.get(i).then((function(e){var n=e.data;t(n)})).catch((function(t){console.log(t),e(t)}))}))},l=function(t,e){(0,t.commit)("setMetadata",e)},m=function(t,e){var n=t.commit,o=e.collectionId,i=e.metadatumId,r=e.isRepositoryLevel,c="";return c=r?"/metadata/"+i:"/collection/"+o+"/metadata/"+i,new Promise((function(t,e){a.ZP.tainacan.delete(c).then((function(e){var a=e.data;a.metadata_section_id&&!r?n("deleteMetadatumInsideMetadataSection",a):n("deleteMetadatum",a),t(e.data)})).catch((function(t){e(t)}))}))},d=function(t){(0,t.commit)("cleanMetadata")},f=function(t,e){var n=t.commit,o=e.collectionId,i=e.metadataOrder,r=e.metadataSectionId;return new Promise((function(t,e){a.ZP.tainacan.patch("/collections/"+o+"/metadata_section/"+r+"/metadata_order?context=edit",{metadata_order:i}).then((function(e){n("collection/setCollection",e.data,{root:!0}),n("updateCollectionMetadataOrder",{metadataOrder:e.data.metadata_order,metadataSectionId:r}),t(e.data)})).catch((function(t){e(t.response)}))}))},p=function(t,e){t.commit;var n=e.isRepositoryLevel,o=e.collectionId,i=e.parentMetadatumId,r=e.childMetadataOrder,c="";c=n?"/metadata/"+i:"/collection/"+o+"/metadata/"+i;var s={metadata_type_options:{children_order:r}};return new Promise((function(t,e){a.ZP.tainacan.put(c+"?context=edit",s).then((function(e){t(e.data)})).catch((function(t){e(t.response)}))}))},h=function(t){var e=t.commit;return new Promise((function(t,n){a.ZP.tainacan.get("/metadata-types").then((function(n){var a=n.data;e("setMetadatumTypes",a),t(a)})).catch((function(t){console.log(t),n(t)}))}))},y=function(t,e){(0,t.commit)("setMetadatumTypes",e)},v=function(t){var e=t.commit;return new Promise((function(t,n){a.ZP.tainacan.get("/metadatum-mappers").then((function(n){var a=n.data;e("setMetadatumMappers",a),t(a)})).catch((function(t){console.log(t),n(t)}))}))},g=function(t,e){t.dispatch;var n=e.metadataMapperMetadata,o=e.mapper;return new Promise((function(t,e){var i={metadata_mappers:n};i[tainacan_plugin.exposer_mapper_param]=o,a.ZP.tainacan.post("/metadatum-mappers",i).then((function(e){t(e.data)})).catch((function(t){console.log(t),e(t)}))}))},_=function(t,e){(0,t.commit)("setMetadatumMappers",e)},I=function(t,e){var n=t.commit,o=e.collectionId,r=e.isContextEdit,c=e.includeDisabled,s="/collection/"+o+"/metadata-sections",u={nopaging:1};return r&&(u.context="edit"),c&&(u.include_disabled=!0),new Promise((function(t,e){a.ZP.tainacan.get(s+"?"+i().stringify(u)).then((function(e){var a=e.data;n("setMetadataSections",a),t(a)})).catch((function(t){e(t)}))}))},b=function(t,e){var n=t.commit,o=e.collectionId,i=e.name,r=e.status,c=e.newIndex;return new Promise((function(t,e){var s="/collection/"+o+"/metadata-sections/";s+="?context=edit",a.ZP.tainacan.post(s,{name:i,status:r}).then((function(e){var a=e.data;n("setSingleMetadataSection",{metadataSection:a,index:c}),t(e.data)})).catch((function(t){e(t.response)}))}))},x=function(t,e){var n=t.commit,o=e.collectionId,i=e.metadataSectionId,r=e.index,c=e.options;return new Promise((function(t,e){var s="/collection/"+o+"/metadata-sections/"+i;s+="?context=edit",a.ZP.tainacan.put(s,c).then((function(e){var a=e.data;n("setSingleMetadataSection",{metadataSection:a,index:r}),t(a)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},P=function(t,e){var n=t.commit,o="/collection/"+e.collectionId+"/metadata-sections/"+e.metadataSectionId;return new Promise((function(t,e){a.ZP.tainacan.delete(o).then((function(e){var a=e.data;n("deleteMetadataSection",a),t(e.data)})).catch((function(t){console.log(t),e(t)}))}))},S=function(t,e){(0,t.commit)("setMetadataSections",e)},w=function(t,e){var n=t.commit,o=e.collectionId,i=e.metadataSectionsOrder;return new Promise((function(t,e){a.ZP.tainacan.patch("/collections/"+o+"/metadata_section_order?context=edit",{metadata_section_order:i}).then((function(e){n("collection/setCollection",e.data,{root:!0}),n("updateMetadataSectionsOrderFromCollection",e.data.metadata_section_order),t(e.data)})).catch((function(t){e(t.response)}))}))},T=function(t){(0,t.commit)("cleanMetadataSections")},M=function(t,e){(0,t.commit)("moveMetadataSectionUp",e)},C=function(t,e){(0,t.commit)("moveMetadataSectionDown",e)},q=function(t,e){(0,t.commit)("moveMetadatumUp",{index:e.index,sectionIndex:e.sectionIndex})},Z=function(t,e){(0,t.commit)("moveMetadatumDown",{index:e.index,sectionIndex:e.sectionIndex})},O=function(t,e){var n=t.commit,o=e.collectionId,i=e.metadataSectionId;return new Promise((function(t,e){a.ZP.tainacan.get("/collection/"+o+"/metadata-sections/"+i+"/metadata").then((function(e){var a=e.data;n("setMetadataSectionMetadata",{metadataSectionId:i,metadata:a}),t(a)})).catch((function(t){e(t)}))}))}},71065:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getMetadata:()=>a,getMetadataSections:()=>o,getMetadatumMappers:()=>r,getMetadatumTypes:()=>i});var a=function(t){return t.metadata},o=function(t){return t.metadataSections},i=function(t){return t.metadatumTypes},r=function(t){return t.metadatumMappers}},38308:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(19446),o=n(71065);const i={namespaced:!0,state:{metadata:[],metadatumTypes:[],metadatumMappers:[],metadataSections:[]},mutations:n(63944),actions:a,getters:o}},63944:(t,e,n)=>{"use strict";n.r(e),n.d(e,{cleanMetadata:()=>m,cleanMetadataSections:()=>I,clearPlaceholderMetadataSection:()=>g,deleteMetadataSection:()=>_,deleteMetadatum:()=>i,deleteMetadatumInsideMetadataSection:()=>y,moveMetadataSectionDown:()=>x,moveMetadataSectionUp:()=>b,moveMetadatumDown:()=>S,moveMetadatumUp:()=>P,setMetadata:()=>c,setMetadataSectionMetadata:()=>f,setMetadataSections:()=>d,setMetadatumMappers:()=>l,setMetadatumTypes:()=>u,setSingleMetadataSection:()=>p,setSingleMetadatum:()=>r,updateCollectionMetadataOrder:()=>s,updateMetadataSectionsOrderFromCollection:()=>v,updateMetadatumInsideSectionMetadata:()=>h});var a=n(2934),o=n.n(a),i=function(t,e){if(e.parent&&e.parent>=0){var n=t.metadata.findIndex((function(t){return t.id==e.parent}));if(n>=0){var a=JSON.parse(JSON.stringify(t.metadata[n])),i=a.metadata_type_options.children_objects,r=i.findIndex((function(t){return t.id==e.id}));r>=0&&i.splice(r,1),a.metadata_type_options.children_objects=i,o().set(t.metadata,n,a)}}else{var c=t.metadata.findIndex((function(t){return t.id==e.id}));c>=0&&t.metadata.splice(c,1)}},r=function(t,e){var n=e.metadatum,a=e.index,i=e.isRepositoryLevel;if(n.parent&&n.parent>=0){var r=t.metadata.findIndex((function(t){return t.id==n.parent}));if(r>=0){var c=JSON.parse(JSON.stringify(t.metadata[r])),s=c.metadata_type_options.children_objects,u=s.findIndex((function(t){return t.id==n.id}));null!=a&&null!=a?u>=0?s.splice(a,1,n):s.splice(a,0,n):u>=0?s.splice(u,1,n):s.push(n),c.metadata_type_options.children_objects=s,o().set(t.metadata,r,c)}}else if(i){var l=t.metadata.findIndex((function(t){return t.id==n.id}));l>=0?o().set(t.metadata,l,n):t.metadata.unshift(n)}else if(null!=a&&null!=a)o().set(t.metadata,a,n);else{var m=t.metadata.findIndex((function(t){return t.id==n.id}));m>=0&&o().set(t.metadata,m,n)}},c=function(t,e){t.metadata=e},s=function t(e,n){for(var a=n.metadataOrder,i=n.metadataSectionId,r=function(n){e.metadata.findIndex((function(t){return t.id==a[n].id}))>=0&&(e.metadata[n].enabled=a[t].enabled);var r=e.metadataSections.findIndex((function(t){return t.id==i}));if(r>=0){var c=e.metadataSections[r].metadata_object_list.findIndex((function(t){return!!t.id&&t.id==a[n].id}));if(c>=0){var s=e.metadataSections[r].metadata_object_list;s[c].enabled=a[n].enabled,o().set(e.metadataSections[r],"metadata_object_list",s)}}},c=0;c<a.length;c++)r(c)},u=function(t,e){t.metadatumTypes=e},l=function(t,e){t.metadatumMappers=e},m=function(t){t.metadata=[]},d=function(t,e){t.metadataSections=e},f=function(t,e){var n=e.metadataSectionId,a=e.metadata,i=t.metadataSections.findIndex((function(t){return t.id==n}));if(i>=0){var r=t.metadataSections[i];r.metadata_object_list=a,o().set(t.metadataSections,i,r)}},p=function(t,e){var n=e.metadataSection,a=e.index;if(null!=a)o().set(t.metadataSections,a,n);else{var i=t.metadataSections.findIndex((function(t){return t.id==n.id}));i>=0?o().set(t.metadataSections,i,n):t.metadataSections.push(n)}},h=function(t,e){var n=e.metadatum,a=e.index,i=e.sectionId,r=t.metadataSections.findIndex((function(t){return t.id==i}));if(r>=0){var c=t.metadataSections[r];if(n.parent&&n.parent>=0){var s=c.metadata_object_list.findIndex((function(t){return t.id==n.parent}));if(s>=0){var u=JSON.parse(JSON.stringify(c.metadata_object_list[s])),l=u.metadata_type_options.children_objects,m=l.findIndex((function(t){return t.id==n.id}));null!=a&&null!=a?m>=0?l.splice(a,1,n):l.splice(a,0,n):m>=0?l.splice(m,1,n):l.push(n),u.metadata_type_options.children_objects=l,c.metadata_object_list.splice(s,1,u)}}else{var d=c.metadata_object_list.findIndex((function(t){return!!t.id&&t.id==n.id}));d>=0?c.metadata_object_list.splice(d,1,n):c.metadata_object_list[a]&&!c.metadata_object_list[a].id?c.metadata_object_list.splice(a,1,n):c.metadata_object_list.splice(a,0,n)}o().set(t.metadataSections,r,c)}},y=function(t,e){var n=t.metadataSections.findIndex((function(t){return t.id==e.metadata_section_id}));if(n>=0){var a=t.metadataSections[n];if(e.parent&&e.parent>=0){var i=a.metadata_object_list.findIndex((function(t){return t.id==e.parent}));if(i>=0){var r=JSON.parse(JSON.stringify(a.metadata_object_list[i])),c=r.metadata_type_options.children_objects,s=c.findIndex((function(t){return t.id==e.id}));s>=0&&c.splice(s,1),r.metadata_type_options.children_objects=c,a.metadata_object_list.splice(i,1,r)}}else{var u=a.metadata_object_list.findIndex((function(t){return!!t.id&&t.id==e.id}));u>=0&&a.metadata_object_list.splice(u,1)}o().set(t.metadataSections,n,a)}},v=function(t,e){for(var n=function(n){var a=e.findIndex((function(e){return e.id==t.metadataSections[n].id}));a>=0&&(t.metadataSections[n].enabled=e[a].enabled)},a=0;a<t.metadataSections.length;a++)n(a)},g=function(t){var e=t.metadataSections.findIndex((function(t){return"metadataSectionCreator"==t.id}));e>=0&&t.metadataSections.splice(e,1)},_=function(t,e){var n=t.metadataSections.findIndex((function(t){return t.id==e.id}));n>=0&&t.metadataSections.splice(n,1)},I=function(t){t.metadataSections=[]},b=function(t,e){t.metadataSections.splice(e-1,0,t.metadataSections.splice(e,1)[0])},x=function(t,e){t.metadataSections.splice(e+1,0,t.metadataSections.splice(e,1)[0])},P=function(t,e){var n=e.index,a=e.sectionIndex;t.metadataSections[a].metadata_object_list.splice(n-1,0,t.metadataSections[a].metadata_object_list.splice(n,1)[0])},S=function(t,e){var n=e.index,a=e.sectionIndex;t.metadataSections[a].metadata_object_list.splice(n+1,0,t.metadataSections[a].metadata_object_list.splice(n,1)[0])}},34201:(t,e,n)=>{"use strict";n.r(e),n.d(e,{fetchActivities:()=>l,fetchCollectionsList:()=>c,fetchMetadata:()=>i,fetchMetadataList:()=>r,fetchSummary:()=>o,fetchTaxonomiesList:()=>s,fetchTaxonomyTerms:()=>u});var a=n(32062),o=function(t,e){var n=t.commit,o=e.collectionId,i=e.force,r="/reports";return r+=o&&"default"!=o?"/collection/"+o+"/summary":"/repository/summary",i&&!0===i&&(r+="?force=yes"),new Promise((function(t,e){a.ZP.tainacan.get(r).then((function(e){var a=e.data;n("setSummary",a),n("setReportLatestCachedOn",{report:"summary-"+(o||"default"),reportLatestCachedOn:e.data.report_cached_on}),t(a)})).catch((function(t){return e(t)}))}))},i=function(t,e){var n=t.commit,o=e.collectionId,i=e.force,r="/reports";return r+=o&&"default"!=o?"/collection/"+o+"/metadata":"/metadata",i&&!0===i&&(r+="?force=yes"),new Promise((function(t,e){a.ZP.tainacan.get(r).then((function(e){var a=e.data;n("setMetadata",a),n("setReportLatestCachedOn",{report:"metadata-"+(o||"default"),reportLatestCachedOn:e.data.report_cached_on}),t(a)})).catch((function(t){return e(t)}))}))},r=function(t,e){var n=t.commit,o=e.collectionId,i=e.onlyTaxonomies,r="";return r+=o&&"default"!=o?"/collection/"+o+"/metadata/?nopaging=1":"/metadata/?nopaging=1",i&&(r+="&metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan\\Metadata_Types\\Taxonomy"),new Promise((function(t,e){a.ZP.tainacan.get(r).then((function(e){var a=e.data;n("setMetadataList",a),t(a)})).catch((function(t){return e(t)}))}))},c=function(t,e){var n=t.commit,o="/reports/collection";return e&&!0===e&&(o+="?force=yes"),new Promise((function(t,e){a.ZP.tainacan.get(o).then((function(e){var a=e.data.list?e.data.list:{};n("setCollectionsList",a),n("setReportLatestCachedOn",{report:"collections",reportLatestCachedOn:e.data.report_cached_on}),t(a)})).catch((function(t){return e(t)}))}))},s=function(t,e){var n=t.commit,o="/reports/taxonomy";return e&&!0===e&&(o+="?force=yes"),new Promise((function(t,e){a.ZP.tainacan.get(o).then((function(e){var a=e.data.list?e.data.list:{};n("setTaxonomiesList",a),n("setReportLatestCachedOn",{report:"taxonomies",reportLatestCachedOn:e.data.report_cached_on}),t(a)})).catch((function(t){return e(t)}))}))},u=function(t,e){var n=t.commit,o=e.taxonomyId,i=e.collectionId,r=e.parentTerm,c=e.isChildChart,s=e.force,u="/reports";return u+=i&&"default"!=i?"/collection/"+i+"/metadata/"+o+"?":"/taxonomy/"+o+"?",s&&(u+="&force=yes"),r&&(u+="&parent="+r),new Promise((function(t,e){a.ZP.tainacan.get(u).then((function(e){var a={};a=i&&"default"!=i?e.data.list?e.data.list:[]:e.data.terms?Object.values(e.data.terms):[],c?(n("setTaxonomyChildTerms",a),n("setReportLatestCachedOn",{report:"taxonomy-terms-"+(i||"default")+"-"+o+(r?"-"+r:"")+"-is-child-chart",reportLatestCachedOn:e.data.report_cached_on})):(n("setTaxonomyTerms",a),n("setReportLatestCachedOn",{report:"taxonomy-terms-"+(i||"default")+"-"+o+(r?"-"+r:""),reportLatestCachedOn:e.data.report_cached_on})),t(a)})).catch((function(t){return e(t)}))}))},l=function(t,e){var n=t.commit,o=e.collectionId,i=e.startDate,r=e.force,c="/reports";return c+=o&&"default"!=o?"/collection/"+o+"/activities?":"/activities?",i&&(c+="&start="+i),r&&(c+="&force=yes"),new Promise((function(t,e){a.ZP.tainacan.get(c).then((function(e){var a=e.data;n("setActivities",a),n("setReportLatestCachedOn",{report:"activities-"+(o||"default")+(i?"-"+i:""),reportLatestCachedOn:e.data.report_cached_on}),t(a)})).catch((function(t){return e(t)}))}))}},81258:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getActivities:()=>l,getAreaChartOptions:()=>v,getCollectionsList:()=>r,getDonutChartOptions:()=>h,getHeatMapChartOptions:()=>y,getHorizontalBarChartOptions:()=>f,getMetadata:()=>o,getMetadataList:()=>i,getReportsLatestCachedOn:()=>_,getStackedBarChartOptions:()=>d,getStartDate:()=>m,getSummary:()=>a,getTaxonomiesList:()=>c,getTaxonomyChildTerms:()=>u,getTaxonomyTerms:()=>s,getTreeMapChartOptions:()=>g,getVisibilityHorizontalBarChartOptions:()=>p});var a=function(t){return t.summary},o=function(t){return t.metadata},i=function(t){return t.metadataList},r=function(t){return t.collectionsList},c=function(t){return t.taxonomiesList},s=function(t){return t.taxonomyTerms},u=function(t){return t.taxonomyChildTerms},l=function(t){return t.activities},m=function(t){return t.startDate},d=function(t){return t.stackedBarChartOptions},f=function(t){return t.horizontalBarChartOptions},p=function(t){return t.visibilityHorizontalBarChartOptions},h=function(t){return t.donutChartOptions},y=function(t){return t.heatMapChartOptions},v=function(t){return t.areaChartOptions},g=function(t){return t.treeMapChartOptions},_=function(t){return t.reportsLatestCachedOn}},30985:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(34201),o=n(81258);const i={namespaced:!0,state:{reportsLatestCachedOn:{},summary:{},taxonomiesList:{},collectionsList:{},taxonomyTerms:[],taxonomyChildTerms:[],metadata:{},metadataList:{},activities:{},startDate:"",stackedBarChartOptions:{chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0,autoScaleYaxis:!0}},title:{text:""},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{borderRadius:0,horizontal:!1}},xaxis:{type:"category",tickPlacement:"on",categories:[],tooltip:{enabled:!0}},yaxis:{title:{text:""},tooltip:{enabled:!0}},legend:{position:"right",offsetY:40},fill:{opacity:1}},donutChartOptions:{chart:{type:"donut",toolbar:{show:!0},height:350},title:{text:""},stroke:{width:0},labels:[],responsive:[{breakpoint:480,options:{chart:{width:200},legend:{position:"bottom"}}}]},horizontalBarChartOptions:{chart:{type:"bar",height:350,stacked:!0,stackType:"100%",toolbar:{show:!0},zoom:{type:"y",enabled:!0,autoScaleYaxis:!0}},plotOptions:{bar:{horizontal:!0}},title:{text:""},xaxis:{type:"category",tickPlacement:"on",categories:[],tooltip:{enabled:!0}},yaxis:{tickPlacement:"on",tooltip:{enabled:!0}},tooltip:{enabled:!0},fill:{opacity:1},legend:{position:"top",horizontalAlign:"left",offsetX:40}},areaChartOptions:{chart:{height:200,type:"area",toolbar:{show:!0,tools:{download:!0,selection:!1,zoom:!0,zoomin:!0,zoomout:!0,pan:!0}}},dataLabels:{enabled:!1},stroke:{width:1,curve:"smooth"},fill:{opacity:1,type:"gradient",gradient:{shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.35}},legend:{position:"top",horizontalAlign:"left"},xaxis:{type:"datetime"},yaxis:{labels:{minWidth:64}}},treeMapChartOptions:{legend:{show:!1},chart:{height:350,type:"treemap"},title:{text:""},plotOptions:{treemap:{enableShades:!1}}},visibilityHorizontalBarChartOptions:{chart:{type:"bar",height:350,stacked:!0,stackType:"normal",toolbar:{show:!1},zoom:{type:"y",enabled:!1,autoScaleYaxis:!0}},plotOptions:{bar:{horizontal:!0,columnWidth:"100%",barHeight:"80%"}},title:{text:""},xaxis:{type:"category",categories:[],tooltip:{enabled:!0},axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!1}},yaxis:{tooltip:{enabled:!0},axisBorder:{show:!1},axisTicks:{show:!1},labels:{show:!0,style:{fontSize:"17px",fontFamily:"TainacanIcons, Arial, sans-serif"}}},tooltip:{enabled:!0},fill:{opacity:1},grid:{show:!1},legend:{position:"top",horizontalAlign:"left",offsetX:40}}},mutations:n(44913),actions:a,getters:o}},44913:(t,e,n)=>{"use strict";n.r(e),n.d(e,{setActivities:()=>d,setAreaChartOptions:()=>_,setCollectionsList:()=>s,setDonutChartOptions:()=>v,setHeatMapChartOptions:()=>g,setHorizontalBarChartOptions:()=>h,setMetadata:()=>r,setMetadataList:()=>c,setReportLatestCachedOn:()=>b,setStackedBarChartOptions:()=>p,setStartDate:()=>f,setSummary:()=>i,setTaxonomiesList:()=>u,setTaxonomyChildTerms:()=>m,setTaxonomyTerms:()=>l,setTreeMapChartOptions:()=>I,setVisibilityHorizontalBarChartOptions:()=>y});var a=n(2934),o=n.n(a),i=function(t,e){t.summary=e},r=function(t,e){t.metadata=e},c=function(t,e){t.metadataList=e},s=function(t,e){t.collectionsList=e},u=function(t,e){t.taxonomiesList=e},l=function(t,e){t.taxonomyTerms=e},m=function(t,e){t.taxonomyChildTerms=e},d=function(t,e){t.activities=e},f=function(t,e){t.startDate=e},p=function(t,e){t.stackedBarChartOptions=e},h=function(t,e){t.horizontalBarChartOptions=e},y=function(t,e){t.visibilityHorizontalBarChartOptions=e},v=function(t,e){t.donutChartOptions=e},g=function(t,e){t.heatMapChartOptions=e},_=function(t,e){t.areaChartOptions=e},I=function(t,e){t.threeMapChartOptions=e},b=function(t,e){var n=e.report,a=e.reportLatestCachedOn;o().set(t.reportsLatestCachedOn,n,a)}},30983:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addFilterTag:()=>M,addSelectedItem:()=>L,add_fetch_only:()=>c,add_fetch_only_meta:()=>u,add_metaquery:()=>r,add_taxquery:()=>m,cleanFetchOnly:()=>A,cleanFilterTags:()=>Z,cleanMetaQueries:()=>O,cleanSelectedItems:()=>j,cleanTaxQueries:()=>F,highlightsItem:()=>U,removeFilterTag:()=>q,removeSelectedItem:()=>R,remove_fetch_only:()=>s,remove_fetch_only_meta:()=>l,remove_metaquery:()=>d,remove_postin:()=>p,remove_taxquery:()=>f,setAdminViewMode:()=>T,setFacets:()=>_,setFilterTags:()=>C,setItemsPerPage:()=>g,setOrder:()=>x,setOrderBy:()=>b,setPage:()=>v,setSearchQuery:()=>P,setSelectedItems:()=>k,setSentenceMode:()=>S,setStatus:()=>I,setTotalItems:()=>h,setTotalPages:()=>y,setViewMode:()=>w,set_advanced_query:()=>i,set_postquery:()=>o,set_postquery_attribute:()=>a});var a=function(t,e,n){(0,t.commit)("setPostQueryAttribute",{attr:e,value:n})},o=function(t,e){(0,t.commit)("setPostQuery",e)},i=function(t,e){var n=t.commit;n("removePostQueryAttribute","search"),n("removePostQueryAttribute","s"),n("setAdvancedSearchQuery",e)},r=function(t,e){var n=t.commit;!e||void 0!==e.value&&null!==e.value&&0!==e.value.length&&""!==e.value?n("addMetaQuery",e):n("removeMetaQuery",e)},c=function(t,e){(0,t.commit)("addFetchOnly",e)},s=function(t,e){(0,t.commit)("removeFetchOnly",e)},u=function(t,e){(0,t.commit)("addFetchOnlyMeta",e)},l=function(t,e){(0,t.commit)("removeFetchOnlyMeta",e)},m=function(t,e){var n=t.commit;!e||void 0!==e.terms&&null!==e.terms&&""!==e.terms&&0!==e.terms.length?n("addTaxQuery",e):n("removeTaxQuery",e)},d=function(t,e){(0,t.commit)("removeMetaQuery",e)},f=function(t,e){(0,t.commit)("removeTaxQuery",e)},p=function(t){(0,t.commit)("removePostIn")},h=function(t,e){(0,t.commit)("setTotalItems",e)},y=function(t,e){(0,t.commit)("setTotalPages",e)},v=function(t,e){(0,t.commit)("setPostQueryAttribute",{attr:"paged",value:e})},g=function(t,e){var n=t.commit,a=tainacan_plugin.api_max_items_per_page;n("setPostQueryAttribute",{attr:"perpage",value:e=Number(a)>=Number(e)?e:a}),n("setItemsPerPage",e)},_=function(t,e){(0,t.commit)("setFacets",e)},I=function(t,e){var n=t.commit;null==e||""==e?n("removePostQueryAttribute","status"):n("setPostQueryAttribute",{attr:"status",value:e})},b=function(t,e){t.state;var n=t.commit;n("removePostQueryAttribute","orderby"),n("removePostQueryAttribute","metakey"),n("removePostQueryAttribute","metatype"),"name"==e||e.metakey&&"name"==e.metakey?n("setPostQueryAttribute",{attr:"orderby",value:"date"}):e.metakey?Object.keys(e).forEach((function(t){n("setPostQueryAttribute",{attr:t,value:e[t]})})):n("setPostQueryAttribute",{attr:"orderby",value:e})},x=function(t,e){(0,t.commit)("setPostQueryAttribute",{attr:"order",value:e})},P=function(t,e){(0,t.commit)("setSearchQuery",e)},S=function(t,e){(0,t.commit)("setSentenceMode",e)},w=function(t,e){(0,t.commit)("setViewMode",e)},T=function(t,e){(0,t.commit)("setAdminViewMode",e)},M=function(t,e){var n=t.commit;!e||void 0!==e.value&&null!==e.value&&""!==e.value&&0!==e.value.length?n("addFilterTag",e):n("removeFilterTag",e)},C=function(t,e){(0,t.commit)("setFilterTags",e)},q=function(t,e){(0,t.commit)("removeFilterTag",e)},Z=function(t){(0,t.commit)("cleanFilterTags")},O=function(t,e){(0,t.commit)("cleanMetaQueries",{keepCollections:e.keepCollections})},F=function(t){(0,t.commit)("cleanTaxQueries")},A=function(t){(0,t.commit)("cleanFetchOnly")},k=function(t,e){(0,t.commit)("setSelectedItems",e)},L=function(t,e){(0,t.commit)("addSelectedItem",e)},j=function(t){(0,t.commit)("cleanSelectedItems")},R=function(t,e){(0,t.commit)("removeSelectedItem",e)},U=function(t,e){(0,t.commit)("setHighlightedItem",e)}},73443:(t,e,n)=>{"use strict";n.r(e),n.d(e,{getAdminViewMode:()=>v,getAdvancedSearchQuery:()=>o,getFacets:()=>x,getFetchOnly:()=>g,getFetchOnlyMeta:()=>I,getFilterTags:()=>b,getHighlightedItem:()=>S,getItemsPerPage:()=>l,getMetaKey:()=>_,getMetaQuery:()=>i,getOrder:()=>m,getOrderBy:()=>d,getPage:()=>u,getPostQuery:()=>a,getSearchQuery:()=>f,getSelectedItems:()=>P,getSentenceMode:()=>p,getStatus:()=>h,getTaxQuery:()=>r,getTotalItems:()=>c,getTotalPages:()=>s,getViewMode:()=>y});var a=function(t){return t.postquery},o=function(t){return t.advancedSearchQuery},i=function(t){return t.metaquery},r=function(t){return t.taxquery},c=function(t){return t.totalItems},s=function(t){return t.totalPages},u=function(t){return null==t.postquery.paged?1:Number(t.postquery.paged)},l=function(t){return null==t.itemsPerPage?12:Number(t.itemsPerPage)},m=function(t){return t.postquery.order},d=function(t){return t.postquery.orderby},f=function(t){return t.postquery.search||t.postquery.s},p=function(t){return t.postquery.sentence},h=function(t){return t.postquery.status},y=function(t){return t.postquery.view_mode},v=function(t){return t.postquery.admin_view_mode},g=function(t){return t.postquery.fetch_only},_=function(t){return t.postquery.metakey},I=function(t){return t.postquery.fetch_only_meta?t.postquery.fetch_only_meta:""},b=function(t){return t.filter_tags},x=function(t){return t.facets},P=function(t){return t.selecteditems},S=function(t){return t.highlightedItem}},21526:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(30983),o=n(73443);const i={namespaced:!0,state:{postquery:{orderby:"",order:"",paged:1,perpage:12,status:"",search:"",post_type:[],metaquery:[],taxquery:[],fetch_only:"thumbnail,modification_date,creation_date,author_name",fetch_only_meta:"",view_mode:"table",admin_view_mode:"table"},filter_tags:[],totalItems:0,totalPages:0,itemsPerPage:12,facets:{},selecteditems:[],highlightedItem:null},mutations:n(34132),actions:a,getters:o}},34132:(t,e,n)=>{"use strict";n.r(e),n.d(e,{addFetchOnly:()=>f,addFetchOnlyMeta:()=>p,addFilterTag:()=>C,addMetaQuery:()=>m,addSelectedItem:()=>U,addTaxQuery:()=>d,cleanFetchOnly:()=>k,cleanFilterTags:()=>O,cleanMetaQueries:()=>F,cleanSelectedItems:()=>R,cleanTaxQueries:()=>A,removeFetchOnly:()=>h,removeFetchOnlyMeta:()=>y,removeFilterTag:()=>Z,removeMetaQuery:()=>v,removePostIn:()=>_,removePostQueryAttribute:()=>s,removeSelectedItem:()=>D,removeTaxQuery:()=>g,setAdminViewMode:()=>M,setAdvancedSearchQuery:()=>l,setFacets:()=>L,setFilterTags:()=>q,setHighlightedItem:()=>N,setItemsPerPage:()=>x,setPostQuery:()=>u,setPostQueryAttribute:()=>c,setSearchQuery:()=>P,setSelectedItems:()=>j,setSentenceMode:()=>S,setStatus:()=>w,setTotalItems:()=>I,setTotalPages:()=>b,setViewMode:()=>T});var a=n(2934),o=n.n(a);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){s=!0,i=t},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var c=function(t,e){var n=e.attr,a=e.value;o().set(t.postquery,n,a)},s=function(t,e){delete t.postquery["".concat(e)]},u=function(t,e){t.postquery=e},l=function(t,e){t.postquery.advancedSearch=e.advancedSearch,t.postquery.metaquery=Object.assign({},e.metaquery),t.postquery.taxquery=Object.assign({},e.taxquery)},m=function(t,e){t.postquery.metaquery=t.postquery.metaquery&&null!=t.postquery.metaquery.length?t.postquery.metaquery:[];var n=t.postquery.metaquery.findIndex((function(t){return t.key===e.metadatum_id}));n>=0?o().set(t.postquery.metaquery,n,{key:e.metadatum_id,value:e.value,compare:e.compare,type:e.type}):t.postquery.metaquery.push({key:e.metadatum_id,value:e.value,compare:e.compare,type:e.type})},d=function(t,e){t.postquery.taxquery=t.postquery.taxquery&&null!=t.postquery.taxquery.length?t.postquery.taxquery:[];var n=t.postquery.taxquery.findIndex((function(t){return t.taxonomy===e.taxonomy}));n>=0?o().set(t.postquery.taxquery,n,{taxonomy:e.taxonomy,terms:e.terms,compare:e.compare}):t.postquery.taxquery.push({taxonomy:e.taxonomy,terms:e.terms,compare:e.compare})},f=function(t,e){t.postquery.fetch_only=e},p=function(t,e){t.postquery.fetch_only_meta=e},h=function(t,e){var n=t.postquery.fetch_only.split(",");for(var a in e)n.splice(a,1);t.postquery.fetch_only=n.toString()},y=function(t,e){if(null!=t.postquery.fetch_only_meta){var n=t.postquery.fetch_only_meta.split(","),a=n.findIndex((function(t){return t==e}));n.splice(a,1),t.postquery.fetch_only_meta=n.toString()}},v=function(t,e){t.postquery.metaquery=t.postquery.metaquery?t.postquery.metaquery:[];var n=t.postquery.metaquery.findIndex((function(t){return t.key==e.metadatum_id}));if(n>=0)if(!e.isMultiValue&&Array.isArray(t.postquery.metaquery[n].value)&&t.postquery.metaquery[n].value.length>1){var a=t.postquery.metaquery[n].value.findIndex((function(t){return t==e.value}));a>=0&&t.postquery.metaquery[n].value.splice(a,1)}else t.postquery.metaquery.splice(n,1)},g=function(t,e){t.postquery.taxquery=t.postquery.taxquery?t.postquery.taxquery:[];var n=t.postquery.taxquery.findIndex((function(t){return t.taxonomy==e.taxonomy}));if(n>=0)if(Array.isArray(t.postquery.taxquery[n].terms)&&t.postquery.taxquery[n].terms.length>1){var a=t.postquery.taxquery[n].terms.findIndex((function(t){return t==e.value}));a>=0&&t.postquery.taxquery[n].terms.splice(a,1)}else t.postquery.taxquery.splice(n,1)},_=function(t){delete t.postquery.postin},I=function(t,e){t.totalItems=e},b=function(t,e){t.totalPages=e},x=function(t,e){t.itemsPerPage=e},P=function(t,e){""!=e?t.postquery.search=e:delete t.postquery.search,delete t.postquery.s},S=function(t,e){1!=e?o().set(t.postquery,"sentence",e):(o().set(t.postquery,"sentence",e),delete t.postquery.sentence)},w=function(t,e){t.postquery.status=e},T=function(t,e){t.postquery.view_mode=e},M=function(t,e){t.postquery.admin_view_mode=e},C=function(t,e){t.filter_tags=t.filter_tags?t.filter_tags:[];var n=t.filter_tags.findIndex((function(t){return t.filterId==e.filterId}));n>=0?o().set(t.filter_tags,n,e):t.filter_tags.push(e)},q=function(t,e){var n=e.map((function(t){return{filterId:t.filter?t.filter.id:null,label:t.label,value:t.value,taxonomy:t.metadatum&&t.metadatum.metadata_type_object&&t.metadatum.metadata_type_object.options&&t.metadatum.metadata_type_object.options.taxonomy?t.metadatum.metadata_type_object.options.taxonomy:"",argType:t.arg_type?t.arg_type:"",metadatumId:t.filter&&t.metadatum.metadatum_id?t.metadatum.metadatum_id:t.metadatum.id||"",metadatumName:t.filter&&t.filter.name?t.filter.name:t.metadatum.name||""}}));t.filter_tags=n},Z=function(t,e){t.filter_tags=t.filter_tags?t.filter_tags:[];var n=t.filter_tags.findIndex((function(t){return t.filterId==e.filterId}));n>=0&&t.filter_tags.splice(n,1)},O=function(t){t.filter_tags=[]},F=function(t,e){!0===e.keepCollections&&Array.isArray(t.postquery.metaquery)?t.postquery.metaquery=t.postquery.metaquery.filter((function(t){return"collection_id"===t.key})):t.postquery.metaquery=[]},A=function(t){t.postquery.taxquery=[]},k=function(t){delete t.postquery.fetch_only},L=function(t,e){t.facets=e},j=function(t,e){var n,a=i(e);try{var o=function(){var e=n.value;t.selecteditems.findIndex((function(t){return t==e}))<0&&t.selecteditems.push(e)};for(a.s();!(n=a.n()).done;)o()}catch(t){a.e(t)}finally{a.f()}},R=function(t){t.selecteditems=[]},U=function(t,e){t.selecteditems.findIndex((function(t){return t==e}))<0&&t.selecteditems.push(e)},D=function(t,e){var n=t.selecteditems.findIndex((function(t){return t==e}));n>=0&&t.selecteditems.splice(n,1)},N=function(t,e){t.highlightedItem=e}},78467:(t,e,n)=>{"use strict";n.r(e),n.d(e,{changeTermsParent:()=>g,createTaxonomy:()=>c,deleteTaxonomy:()=>s,deleteTerm:()=>y,deleteTerms:()=>v,fetch:()=>l,fetchParentName:()=>I,fetchPossibleParentTerms:()=>_,fetchTaxonomy:()=>m,fetchTaxonomyName:()=>d,fetchTerms:()=>f,multipleTermsInsertion:()=>b,sendChildTerm:()=>p,updateTaxonomy:()=>u,updateTerm:()=>h});var a=n(32062),o=n(80129),i=n.n(o);function r(t){if(null==t)throw new TypeError("Cannot destructure "+t)}var c=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.post("/taxonomies",e).then((function(e){var a=e.data;n("setTaxonomy",a),t(a)})).catch((function(t){o(t.response)}))}))},s=function(t,e){var n=t.commit,o=e.taxonomyId,i=e.isPermanently;return new Promise((function(t,e){a.ZP.tainacan.delete("/taxonomies/".concat(o,"?permanently=")+(i?"1":"0")).then((function(e){n("deleteTaxonomy",e.data),t(e)})).catch((function(t){e(t)}))}))},u=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.patch("/taxonomies/".concat(e.taxonomyId),e).then((function(e){var a=e.data;n("setTaxonomy",a),t(a)})).catch((function(t){o({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},l=function(t,e){var n=t.commit,o=e.page,i=e.taxonomiesPerPage,r=e.status,c=e.order,s=e.orderby,u=e.search;return new Promise((function(t,e){var l="/taxonomies?paged=".concat(o,"&perpage=").concat(i,"&context=edit");null!=r&&""!=r&&0!=r?l=l+"&status="+r:l+="&status=publish,private,draft",null!=c&&""!=c&&null!=s&&""!=s&&(l=l+"&order="+c+"&orderby="+s),null!=u&&""!=u&&(l=l+"&search="+u),a.ZP.tainacan.get(l).then((function(e){var a=e.data;n("set",a),n("setRepositoryTotalTaxonomies",{draft:e.headers["x-tainacan-total-taxonomies-draft"],trash:e.headers["x-tainacan-total-taxonomies-trash"],publish:e.headers["x-tainacan-total-taxonomies-publish"],private:e.headers["x-tainacan-total-taxonomies-private"]}),t({taxonomies:a,total:e.headers["x-wp-total"]})})).catch((function(t){e(t)}))}))},m=function(t,e){var n=t.commit,o=e.taxonomyId,i=e.isContextEdit,r="/taxonomies/".concat(o);return i&&(r+="?context=edit"),new Promise((function(t,e){a.ZP.tainacan.get(r).then((function(e){var a=e.data;n("setTaxonomy",a),t({taxonomy:a})})).catch((function(t){e(t)}))}))},d=function(t,e){var n=t.commit;return new Promise((function(t,o){a.ZP.tainacan.get("/taxonomies/".concat(e,"?fetch_only=name")).then((function(e){var a=e.data;n("setTaxonomyName"),t(a.name)})).catch((function(t){o(t)}))}))},f=function(t,e){r(t);var n=e.taxonomyId,o=e.fetchOnly,c=e.search,s=e.all,u=e.order,l=e.offset,m=e.number,d=e.exclude,f=e.include,p="";return null==u&&(u="asc"),p=o&&c&&!s?"?order=".concat(u,"&").concat(i().stringify(o),"&").concat(i().stringify(c)):o&&c&&s?"?hideempty=0&order=".concat(u,"&").concat(i().stringify(o),"&").concat(i().stringify(c)):!c||s||o?"?hideempty=0&order=".concat(u):"?hideempty=0&order=".concat(u,"&").concat(i().stringify(c)),null!=m&&(p+="&number="+m),null!=l&&(p+="&offset="+l),null!=d&&(p+="&"+i().stringify({exclude:d})),null!=f&&(p+="&"+i().stringify({include:f})),new Promise((function(t,e){a.ZP.tainacan.get("/taxonomy/".concat(n,"/terms").concat(p)).then((function(e){t({terms:e.data,total:e.headers["x-wp-total"]})})).catch((function(t){e(t)}))}))},p=function(t,e){t.commit;var n=e.taxonomyId,o=e.term,i=e.itemId,r=e.metadatumId;return null!=i&&(o.item_id=i),null!=r&&(o.metadatum_id=r),new Promise((function(t,e){a.ZP.tainacan.post("/taxonomy/".concat(n,"/terms/"),o).then((function(e){var n=e.data;t(n)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},h=function(t,e){r(t);var n=e.taxonomyId,o=e.term,i=e.itemId,c=e.metadatumId;return null!=i&&(o.item_id=i),null!=c&&(o.metadatum_id=c),new Promise((function(t,e){a.ZP.tainacan.patch("/taxonomy/".concat(n,"/terms/").concat(o.id),o).then((function(e){var n=e.data;t(n)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},y=function(t,e){r(t);var n=e.taxonomyId,o=e.termId,i=e.deleteChildTerms,c=void 0!==i&&i,s="permanently=1&hideempty=0";return c&&(s+="&delete_child_terms=".concat(c)),new Promise((function(t,e){a.ZP.tainacan.delete("/taxonomy/".concat(n,"/terms/").concat(o,"?").concat(s)).then((function(e){var n=e.data;t(n)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},v=function(t,e){r(t);var n=e.taxonomyId,o=e.terms,i=e.parent,c=e.deleteChildTerms,s=void 0!==c&&c,u="permanently=1&hideempty=0&number=0";return void 0!==i&&(u+="&parent=".concat(i)),o.length&&(u+="&include=".concat(o)),s&&(u+="&delete_child_terms=".concat(s)),new Promise((function(t,e){a.ZP.tainacan.delete("/taxonomy/".concat(n,"/terms/?").concat(u)).then((function(e){var n=e.data;t(n)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},g=function(t,e){r(t);var n=e.taxonomyId,o=e.newParentTerm,i=e.terms,c=e.parent,s="hideempty=0&number=0";return void 0!==c&&(s+="&parent=".concat(c)),i.length&&(s+="&include=".concat(i)),new Promise((function(t,e){a.ZP.tainacan.patch("/taxonomy/".concat(n,"/terms/newparent/").concat(o,"?").concat(s)).then((function(e){var n=e.data;t(n)})).catch((function(t){e({error_message:t.response.data.error_message,errors:t.response.data.errors})}))}))},_=function(t,e){t.commit;var n=e.taxonomyId,o=e.termId,r=e.search,c=e.offset,s="/taxonomy/"+n+"/terms?searchterm="+r+"&hierarchical=1&hideempty=0&offset=0&number=20&order=asc&"+(o&&"new"!=o?i().stringify({exclude_tree:o}):"");return c&&(s+="&offset="+c),new Promise((function(t,e){a.ZP.tainacan.get(s).then((function(e){var n=e.data,a=n.findIndex((function(t){return t.id==o}));a>=0&&n.splice(a,1);var i=e.headers["x-wp-total"];t({parentTerms:n,totalTerms:i})})).catch((function(t){e(t)}))}))},I=function(t,e){t.commit;var n=e.taxonomyId,o=e.parentId;return new Promise((function(t,e){a.ZP.tainacan.get("/taxonomy/"+n+"/terms/"+o+"?fetch_only=name").then((function(e){var n=e.data.name;t(n)})).catch((function(t){e(t)}))}))},b=function(t,e){r(t);var n=e.taxonomyId,o=e.parent,i=e.termNames.map((function(t){return{parent:o,name:t}}));return new Promise((function(t,e){a.ZP.tainacan.post("/taxonomy/"+n+"/terms/bulkinsert",i).then((function(e){t(e.data)})).catch((function(t){e(t.response.data)}))}))}},10353:(t,e,n)=>{"use strict";n.r(e),n.d(e,{get:()=>o,getRepositoryTotalTaxonomies:()=>r,getTaxonomy:()=>a,getTaxonomyName:()=>i});var a=function(t){return t.taxonomy},o=function(t){return t.taxonomies},i=function(t){return t.taxonomyName},r=function(t){return t.repositoryTotalTaxonomies}},44896:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var a=n(78467),o=n(10353),i=n(95162);const r={namespaced:!0,state:{taxonomies:[],taxonomy:{},taxonomyName:String,terms:[],repositoryTotalTaxonomies:""},mutations:i,actions:a,getters:o}},95162:(t,e,n)=>{"use strict";n.r(e),n.d(e,{deleteTaxonomy:()=>c,set:()=>i,setRepositoryTotalTaxonomies:()=>a,setTaxonomy:()=>o,setTaxonomyName:()=>r});var a=function(t,e){t.repositoryTotalTaxonomies=e},o=function(t,e){t.taxonomy=e},i=function(t,e){t.taxonomies=e},r=function(t,e){t.taxonomyName=e},c=function(t,e){var n=t.taxonomies.findIndex((function(t){return t.id===e.id}));n>=0&&t.taxonomies.splice(n,1)}},47025:(t,e,n)=>{"use strict";n.d(e,{Z:()=>I});var a=n(2934),o=n.n(a),i=n(20629),r=n(18698),c=n(30449),s=n(38308),u=n(38873),l=n(21526),m=n(44896),d=n(39776),f=n(25839),p=n(77982),h=n(7625),y=n(84759),v=n(10840),g=n(6829),_=n(30985);o().config.devtools=!1,o().use(i.ZP);const I=new i.ZP.Store({strict:!1,modules:{item:r.Z,collection:c.Z,metadata:s.Z,filter:u.Z,search:l.Z,taxonomy:m.Z,activity:d.Z,importer:f.Z,bgprocess:p.Z,bulkedition:h.Z,exporter:y.Z,exposer:v.Z,capability:g.Z,report:_.Z}})},35742:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var a=n(8081),o=n.n(a),i=n(23645),r=n.n(i)()(o());r.push([t.id,"\ni.tainacan-icon[data-v-68a24de6],\ni.tainacan-icon[data-v-68a24de6]::before {\n    font-size: 56px;\n}\nbutton.is-success[data-v-68a24de6] {\n    margin-left: auto;\n}\n.b-checkbox.checkbox[data-v-68a24de6] {\n    margin-top: 12px;\n    width: auto !important;\n}\n\n",""]);const c=r},86151:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});var a=n(54903),o=n(12890);n(77967);const i=(0,n(51900).Z)(o.Z,a.s,a.x,!1,null,"68a24de6",null).exports},12890:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});const a=n(66603).Z},77967:(t,e,n)=>{"use strict";n(97710)},97710:(t,e,n)=>{var a=n(35742);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(87913).Z)("42db749a",a,!0,{})},24654:()=>{}}]);